Thesis of-rajesh-gps — Document Transcript

    1. A Project Report OnDesign & Implementation of Multi-Channel Pseudolite GPS Baseband Module Under the supervision of Dr. Kota Solomon Raju Scientist “E1” Reconfigurable Computing Systems Lab Digital System Group Submitted in partial fulfillment of the requirement for the degree of M.Tech (IT with specialization in Satellite Communication & Space Systems) Work carried out at Central Electronics Engineering Research Institute (CEERI) Pilani, Rajasthan 333031 Jan2011-Jun2011 Submitted By V Rajesh Chowdhary M.Tech (IT with specialization in Satellite Communication & Space System) I2IT, Pune
    2. CENTRAL ELECTRONICS ENGINEERING RESEARCH INSTITUTE (Council of Scientific & Industrial Research) Pilani - 333031 (Rajasthan), India. CERTIFICATEThis is to certify that Project Report entitled ?DESIGN AND IMPLEMENTATION OFMUTLI-CHANNEL PSEUDOLITE GPS BASEBAND MODULE” is being submittedby Mr. V RAJESH CHOWDHARY for the partial fulfilment of the requirement for theaward of degree ? Master’s of Technology in Information Technology withspecialization in Satellite Communication & Space Systems” awarded byInternational Institute of Information Technology, Pune embodies work carried outby him under my supervision at Central Electronics Engineering Research Institute,Pilani (Rajasthan) during January, 2011 to June, 2011. Dr. Kota Solomon Raju Scientist “E 1” Reconfigurable Computing Systems Lab Digital System Group CEERI, Pilani 333031
    3. CEERI Profile?Central Electronics Engineering Research Institute (CEERI), Pilani , is a pioneer researchinstitute in the country and a constituent laboratory of Council of Scientific and IndustrialResearch (CSIR), New Delhi, established in 1957, for advanced research and development(R&D) in the field of electronics. Since its inception it has been working for the growth ofelectronics in the country and has established the required infrastructure and well experiencemanpower for under taking R&D in the Electronics; ? Mandate ? Major R&D programmed ? Significant achievements ? Main facilities ? Main technologies transfer and ready to transfer to industryMandate: ? To carry out R&D in electronic devices and systems. ? To assist industry in technology absorption, up gradation and diversification ? To provide R&D services to industry and users in design, fabrication and testing. ? To provide technical services for specific needs towards product development, precision and quality
    4. Major R & D Programs: The main thrust of the R & D efforts traditionally carried o ut by CEERI has beendirected towards the collaborative, grant- in-aid and S & T service, private industries researchprojects, funded by Government Departments, Government funded user agencies and to a lesserextent, towards in- house development projects resulting in technological know-how which canbe transferred to Indian industries. With the dwindling support for capital resources needed forstate -of-the-art research, it has now become much more difficult to find the support fordevelopmental activities, which can lead to competitive products or process of interest toindustry. The R & D activities of CEERI can be broadly classified into three major areas viz.Semiconductor devices, electronics system and microwave tubes. There are over 12 groupsworking on various projects on the frontiers of knowledge in these three trust areas. The majortrusts areas in which CEERI are presently concentrating its efforts are: ? Electronic system: Areas of Research 1. Agri-Electronics 2. Embedded Systems 3. Digital System 4. Power Electronics ? Semiconductor devices: Areas of research 1. Hybrid Micro Circuits 2. IC Design 3. MEMS & Micro Sensors 4. Sensors & Nanotechnology 5. Optoelectronic Devices ? Microwave tubes Areas of Research 1. Gyrotron 2. Klystron 3. Magnetrons 4. Plasma Devices 5. Traveling wave tubes The activities of microwave tubes and semiconductor devices areas are done at Pilani,where as the activities of electronic system areas are under taken at Pilani as well as at Chennai.The institute has excellent computing facilities with many Pentium computers and SUN/DECworkstations interlinking with Internet and e- mail facilities. The institute has a well- maintainedlibrary with a good collection of books, references and current periodicals published all over theworld.
    5. Significant achievements: ? Space qualification of hybrid microcircuits for use by ISRO ? Design of serial data controller chip ? Development of high voltage deflection transistor for TV applications ? Development of space-qualified metal sized alumina substrates and Ku band down converter ? Development of hybrid PIN/FET for long haul optical communication systemMain Facilities: ? Facilityfor computer-aided design (CAD) of ICs and discrete semi-conductor devices and microwave tubes ? Fabrication facility for semiconductor devices and microwave power tubes ? Instruments and control systems design, testing and microprocessor development facilities ? Mechanical workshop, computers, testing and calibration facilities ? Library
    6. AcknowledgementThis acknowledgement is intended to thanks all those involved in my project directly andindirectly. When expressed in words, feeling of gratitude is partially conveyed.It gives great pleasure to express my sincere gratitude to Dr. Kota Solomon Raju, Scientist =E I‘,Digital Systems Group of Central Electronics Engineering Research Institute, Pilani, for his everencouraging attitude, valuable guidance and keen interest during the period of present work andunforgettable co-operation for making me submit this report . I shall ever remain indebted tohim. I am also thankful to my colleagues in the Digital Systems Group, CEERI, Pilani forsharing their knowledge and the much needed support which has been very helpful for me.I am extremely grateful to Dr. Chandra Shekhar, Director, Central Electronics EngineeringResearch Institute, Pilani for allowing me to do my project in this esteemed institute.I would like to thank Prof. Rabinder Henry for allowing me to do my M.Tech projecttraining at Central Electronics Engineering Research Institute (CEERI) , Pilani, Rajasthan.I wish to acknowledge Dr. P. Bhanu Prasad, Head, Digital System Group and Mr. Vinod KumarVerma , Planning and Coordination cell CEERI.Lastly I thank my family for their encouragement and support which helped me. V Rajesh Chowdhary Registration Number 105344327 International Institute of Information Technology, Pune
    7. Abstract Recently, some software based and ASIC based GPS receivers have been developed andsoftware based receivers are often implemented on PC under Windows and C languageenvironments. Even though these receivers could successfully track GPS signals and calculateuser fix in real time, the computational time for the signal acquisition and tracking is stillimmense for entirely software only GPS receiver. If additional signal processing is required formultipath mitigation, interference cancellation, and weak signal detection etc, morecomputational power are implemented in ASICs. To customize the receivers they must beprovided using FPGA, DSP and combination of both is one of the promising solutions for theadvanced multi channel GPS receiver. During the past few years a lot of efforts have been exerted to make the inner working ofthe GPS receiver visible, clear and easy to learn and modify either on the level of software orhardware. This dissertation throws a light on multi- channel GPS software receiver using the C/Acode on the L1 carrier. Simulink block approach from Matlab software has been used in theimplementation of multi channel pseudolite GPS software receiver, thereby introducing a newlook for the SDR approach and can be accomplished via a graphical user interface environment.FPGA-based software GPS receiver using a high level design tool is developed. Matlab Simulinkand Xilinx System Generator have been utilized for the GPS receiver baseband signal processingdesign. The components like acquisition, code and carrier tracking blocks, correlator, C/A codegenerator, DDS etc, which requires huge computations are designed by the Xilinx FPGA blockand implemented on FPGA board. The other parts are implemented on DSP processor.
    8. Table of contents1. Chapter : Introduction to software GPS receivers 1.1. Introduction 1.2. Motivation 1.3. Outline of this dissertation2. Chapter : Introduction to GPS 2.1 Introduction 2.2 Overview of GPS 2.3 GPS Segments 2.4 GPS Basic Idea 2.5 GPS Signal Structure 2.6 GPS Signal Scheme 2.7 C/A Code 2.7.1 Gold Sequence 2.7.2 Gold Sequence Generation – Overview 2.7.4 Correlation Properties 2.8 Doppler Frequency Shift 2.9 Pseudorange Measurements 2.10 Navigation Data 2.10.1 Telemetry & Handover Words 2.10.2 Data in Navigation Message
    9. 3. Chapter : Differential and Augmented GPS 3.1 Differential GPS 3.1.1 Differential GPS 3.1.2 Local – Area Differential GPS 3.1.3 Wide – Area Differential GPS 3.1.4 Wide – Area Augmentation System 3.2 Space – Based Augmentation System 3.2.1 Historical Background 3.2.2 Wide – Area Augmentation System 3.2.3 European Geostationary Navigation Overlay System 3.2.4 Japan‘s MTSAT Space Based Augmentation System 3.2.5 Canadian Wide –Area Augmentation System 3.2.6 China‘s Space Navigation Augmentation System 3.2.7 Indian GPS and GEO Augmentation System 3.3 Ground Based Augmentation System 3.3.1 Local-Area Augmentation System 3.3.2 Joint Precision Approach System and Landing System 3.3.3 Long – Range Navigation 3.4 Inmarsat Civil Navigation 3.5 Satellite Overlay 3.6 Future Satellite Systems4. Chapter : Pseudolite Concept And Considerations 4.1 Pseudolite Concept 4.2 Pseudolite Signal Structure 4.3 Pseudolite Signal Design Approaches 4.4 Pseudolite Characteristics 4.5 Separation of Pseudolite Using the Same Code 4.6 Receiver Design for Pseudolite Compatibility
    10. 5. Chapter : Receiver And Antenna Design 5.1 Receiver Architecture 5.2 Radiofrequency Stages 5.3 Frequency Down Conversion and IF Amplification 5.4 Signals to Noise Ratio 5.5 Digitization 5.6 Receiver Design Choices 5.6.1 Number of Channels and Sequencing Rate 5.6.2 Receivers with Channel Time Sharing6. Chapter : Acquisition and Tracking of the GPS Signals 6.1 Acquisition of GPS Signals 6.2 Serial Search Acquisition 6.2.1 PRN Sequence Generation 6.2.2 Carrier Generation 6.2.3 Integration and Squaring 6.3 Carrier and Code tracking of GPS Signals 6.3.1 Demodulation 6.3.2 Carrier Tracking 6.3.3 Code Tracking 6.3.4 Complete Tracking Block7. Chapter : SDR Technology and Complete Software Receiver 7.1 Software Defined Radio 7.2 Lyrtech‘s Small Form Factor – SDR Development Platform 7.3 Parameter settings for various GPS blocks. 7.4 Pseudolite GPS software Receiver. 7.5 Conclusion and Results of GPS Simulink Model.8. References
    11. Chapter 1 Introduction1.1 Introduction:Recently, Software GPS receiver has been developed on the Window or Linux operating system. GPSreceiver development based on SDR has more advantages than the conventional GPS receiver because thesoftware GPS receiver can process the future satellite signal such as Galileo, GPS L5 and GLONASSwithout any extra hardware. Software Defined Radios (SDR) are gaining popularity because of thecapability of reprogramming them to work under different standards with minimum hardware change.A software radio can be programmed to acquire data from a GPS satellite as well as a GLONASSsatellite. This thesis describes the implementation of a non-real time GPS software receiver. The receiverwas verified to decode a set of non-real time raw GPS data bin on the L1 carrier and the civil navigationmessage using the C/A code that was stored on a hard drive.The small form factor SDR development platform is employed for verifying the real-time bit streaming ofthe FPGA/DSP partitions. Xilinx has introduced system generator software which can implement theFPGA designs using the matlab simulink. In case of using this software, although one can designsimulink block without the FPGA programming knowledge, the system generator generate the VHDLcode to download to FPGA. In this dissertation, design and implementation of multi-channel pseudoliteGPS baseband receiver using the SFF-SDR development platform board and System Generator isperformed.1.2 Motivation:In today‘s competitive environment, with product lifetimes now measured in months, getting it right thefirst time takes on new importance. Designs are increasingly complex and often comprise hybridtechnologies including RF, high-speed signal processing (50-200 mega samples per second [MSPS]), aswell as lower speed signal processing and control.More often than not, it is unclear at the outset of the design process where the optimal positions of thetechnology boundaries will be. System designers and implementers often make educated guesses as to thepartitioning. Only near the end of the design process will they know if their guess was accurate, and that
    12. is obviously the worst time to discover faults. The concept of model-based design addresses this as wellas other design challenges.Model-Based Design having one set of cost-effective integrated tools that one can use to design, verify,partition, and automatically generate code for both FPGAs and DSPs is now a reality. The Mathworkscalls this process ?model-based design.?The concept is quite simple. First, one has to create a functional implementation independent model of thesystem. This is an ?executable specification,? a model that forms the basis of all that is to follow. Thenmodel is verified to achieve the required system objectives, and after that one can incorporate furtherdetail, such as adding fixed-point effects, RF/ADC non-idealities, and partitioning the design betweenhigh-speed fixed-point hardware (an FPGA) and lower speed hardware (a DSP). At every step of theprocess, one has to verify that the model achieves the performance goals. The final step is to use theautomatic code generation capability to flawlessly implement the model on hardware.1.3 Outline of this Dissertation:This dissertation begins with the basics of GPS satellites and its signal schemes. Chapter 3 describesabout the various differential and augmented GPS systems. Chapter 4 gives brief introduction to conceptsof pseudolites and its considerations in the design aspects. Chapter 5 describes in some detail about thedesigns issues of front-end software receiver. Chapter 6 concentrates on signal acquisition and trackingblock of the GPS software receiver. Chapter 7 contains the concept of SDR technology and design andimplementation of the complete software GPS receiver and presents the results and conclusions of thisresearch, with some proposals for future investigation.
    13. Chapter 2 Introduction to GPS2.1 Introduction:Human‘s zeal to accurately know one‘s location over the surface of the earth, lead to the discovery of?Global Positioning System? (GPS). Many navigation techniques were exploited and few of them are stillin use e.g. compass, celestial navigation, radio navigation, inertial navigation etc. The scope of this thesisis limited to satellite–based navigation system, which comes under radio navigation. Navigation isdefined as the process of planning, reading, and controlling the movement of a craft or vehicle from oneplace to another. The word navigate is derived from the Latin root navis, meaning ?ship,? and agreemeaning ?to move? or ?to direct.? All navigational techniques involve locating the navigator‘s position bycomparing it to known locations or patterns [1]. The Global Positioning System was firstly developed byU.S. Department of Defense (DoD) in early 1970‘s. Initially the whole system was dedicated to U.S.Military applications but later on observing the needs of common man, it is extended to civilian usersalso.2.2 Overview of GPS:The heart of Global positioning system is a set of 24 atomic clocks on satellites revolving around theearth. These clocks use nuclear physics to tell time accurately that each one would gain or lose scarcely asecond in a million years. To ensure continuous worldwide coverage, GPS satellites are arranged so thatfour satellites are placed in each of six orbital planes. With such constellation geometry, four to tensatellites are visible anywhere in the world. GPS orbits are nearly circular, with an inclination of 550 tothe equator .The semi major axis of a GPS orbit is about 26,560 Km(i.e. The satellite altitude is about20,200Km above the earth‘s surface).The corresponding GPS orbital period is about 12 siderealhours(~11 hours,58 minutes)[2].2.3 GPS Segments:GPS consists of three segments: the space segment, the ground segment and the user segment as shown infigure. 1.1.1. The space segment consists of the 24-satellite constellation as discussed earlier. Each GPS satellitetransmits a signal, which has a number of components: two carrier waves, two digital codes and anavigational data. The codes and navigational data are added to the carrier as binary Bi-Phasemodulations (BPSK) [3]. The carriers and codes are used mainly to determine the distance from the user‘s
    14. receiver to the GPS satellite. The navigational data contains, along with other information, co-ordinates ofthe satellites as a function of time. Comprehensive details about GPS signal characteristics are mentionedin the further sub topics.2. The control segment of the GPS system consists of a worldwide network of tracking stations, withmaster control station (MCS) located in the United States at Colorado Springs, Colorado [4]. The primarytask of the operational control segment is tracking the GPS satellites in order to determine and predictsatellite locations, systems integrity, and behavior of the satellite atomic clocks, atmospheric data, thesatellite almanac and other considerations. This information is packed and uploaded into the GPSsatellites through the S-Band link. Also, there are five monitor stations, located in Colorado Springs (withthe MCS), Hawaii, Kwajalein, Diego Garcia and Ascension Island. The positions of these monitorstations are known very preciously. Each monitor station is equipped with high-quality GPS receivers anda cesium oscillator for the purpose of tracking of all the GPS satellites in view.3. The user segment includes all military and civilian users. With a GPS receiver connected to GPSantenna, a user can receive GPS signals, which can be used to determine his or her position anywhere inthe world. GPS is currently available to all users worldwide with no direct charge. Space Segment Download (L-Band) Upload(S-Band) L1 =1575.42MHz L2 =1227.6MHz 2-4GHz Download (L-Band) L1 =1575.42MHz L2 =1227.6MHzGround Segment User SegmentFigure 1.1 GPS Segments2.4 GPS Basic Idea:The idea behind GPS is rather simple. If the distances from a point on the Earth (a GPS receiver) to threeGPS satellites are known along with the satellite locations, then the location of the point (or receiver) canbe determined by simply applying the well-known concept of resection [5]. That is all! But how can we getthe distances to the satellites as well as the satellite locations? As mentioned before, each GPS satellitecontinuously transmits a microwave radio signal composed of two carriers, two codes, and a navigation
    15. message. When a GPS receiver is switched on, it will pick up the GPS signal through the receiver antenna.Once the receiver acquires the GPS signal, it will process it using its built-in software. The partial outcomeof the signal processing consists of the distances to the GPS satellites through the digital codes (known asthe pseudoranges) and the satellite coordinates through the navigation message. Theoretically, only threedistances to three simultaneously tracked satellites are needed. In this case, the receiver would be located atthe intersection of three spheres; each has a radius of one receiver-satellite distance and is centered on thatparticular satellite (Figure 1.2). From the practical point of view, however, a fourth satellite is needed toaccount for the receiver clock offset [6]. Satellite 2 Pseudorange Satellite 3 Satellite 1 EarthFigure 1.2 Basic idea of GPS PositioningOther uses of GPS include the determination of the user‘s velocity, which could be determined by severalmethods. The most widely used method is based on estimating the Doppler frequency of the received GPSsignal. It is known that the Doppler shift occurs as a result of the relative satellite-receiver motion. GPSmay also be used in determining the attitude of a rigid body, such as an aircraft or a marine vessel. Theword attitude means the orientation, or the direction, of the rigid body, which can be described by the threerotation angles of the three axes of the rigid body with respect to a reference system. Attitude is determinedby equipping the body with a minimum of three GPS receivers (or one special receiver) connected to threeantennas, which are arranged in a non-straight line [7]. Data collected at the receivers are then processed toobtain the attitude of the rigid body.2.5 GPS Signal Structure:In order to design a software-defined GPS receiver it is necessary to know the characteristics of the signaland data transmitted from the GPS satellites and received by the GPS receiver antenna. Thus, an overviewof the GPS signals generation scheme and the most important properties of the various signals and dataare presented. The GPS signals are transmitted on two radio frequencies in the UHF band. The UHF bandcovers the frequency band from 500MHz to 3 GHz. These frequencies are referred to as L1 and L2 andare derived from a common frequency, f 0 = 10.23MHz:f L1 = 154 f0 = 1575.42 MHz (1.1)f L2 = 120 f0 = 1227.60 MHz (1.2)
    16. Signal Modulation Central Frequency Bandwidth L1 QPSK 1575.42 MHz ~20MHz (C/A Code 2MHZ + P-Code 20 MHz) L2 BPSK or QPSK 1227.6 MHz ~20MHz(P-Code 20MHz or P-Code + C/A Code)Table 1.1: GPS signal Characteristics.The signals are composed of the following three parts:Carrier -The carrier wave with frequency f L1 or f L2 ,Navigation data- The navigation data contain information regarding satellite orbits. This information isuploaded to all satellites from the ground stations in the GPS Control Segment. The navigation data havea bit rate of 50 bps.Spreading sequence- Each satellite has two unique spreading sequences or codes. The first one is thecoarse acquisition code (C/A), and the other one is the encrypted precision code (P(Y)). The C/A code is asequence of 1023 chips. (A chip corresponds to a bit. It is simply called a chip to emphasize that it doesnot hold any information.) The code is repeated each ms giving a chipping rate of 1.023 MHz .The P codeis a longer code (˜ 2.35·104 chips) with a chipping rate of 10.23 MHz It repeats itself each week startingat the beginning of the GPS week which is at Saturday/Sunday midnight. The C/A code is only modulatedonto the L1 carrier while the P(Y) code is modulated onto both the L1 and the L2 carrier [8]. The table1.1 shows the GPS signal characteristics.2.6 GPS Signal Scheme:In the following a detailed description of the signal generation is given. Figure 1.3 is a block diagramdescribing the signal generation. The block diagram should be read from left to right. At the far left, themain clock signal is supplied to the remaining blocks. The clock signal has a frequency of 10.23MHz.Actually, the exact frequency is 10.22999999543MHz to adjust for relativistic effects giving a frequencyof 10.23MHz seen from the user on Earth. When multiplied by 154 and 120, it generates the L1 and L2carrier signals, respectively. At the bottom left corner a limiter is used to stabilize the clock signal beforesupplying it to the P(Y) and C/A code generators. At the very bottom the data generator generates thenavigation data. The code generators and the data generator are synchronized through the X1signalsupplied by the P(Y) code generator.After code generation, the codes are combined with the navigation data through modulo-2 adders. Theexclusive OR operation is used on binary sequences represented by 0‘s and 1‘s, and its properties areshown in Table1.2.If the binary sequences were represented by the polar non-return-to-zerorepresentation, i.e., 1‘s and -1‘s, ordinary multiplication could be used instead. The correspondingproperties of the multiplication with two binary non-return-to-zero sequences are shown in Table 1.3.
    17. 1227.6 MHz L2 BPSK X 120 Modulator 1575.42MHz BPSK X 154 Modulator L1 Limiter BPSK Modulator P(Y) Code Generator Switch C/A Code Generator 10 100Hz Clock Frequency, 20 f= 10.23MHz 50Hz Data Generator Phase Shifter Data InformationFigure: 1.3 Generation of GPS Signal at satellite.The C/A code ? data and the P(Y) code ? data signals are supplied to the two modulators for the L1frequency. Here the signals are modulated onto the carrier signal using the binary phase shift keying(BPSK) method. Also, the two codes are modulated in-phase and quadrature with each other on L1. Thatis, there is a 90? phase shift between the two codes. After the P(Y) part is attenuated 3 dB, these two L1signals are added to form the resulting L1 signal. The so-called standard positioning service (SPS) isbased on C/A code signals alone.
    18. Table 1.2: Output of exclusive OR operation. Table 1.3: Output of ordinary multiplication.Input Input Output Input Input Output 0 0 0 -1 -1 1 0 1 1 -1 1 -1 1 0 1 1 -1 -1 1 1 0 1 1 1It follows that the signal transmitted from satellite k can be described as (Ck (t))?Dk(t))cos( f L1t) + P PL1(P k(t) ?Dk(t))sin( f L1t) + P PL2(P k(t)?Dk(t))sin( f L2t) (1.3)where P C, PP L1 , and PP L2 are the powers of signals with C/A or P code, Ck is the C/A code sequenceassigned to satellite number k, P k is the P(Y) code sequence assigned to satellite number k, Dk is thenavigation data sequence, and fL1 and fL2 are the carrier frequencies of L1 and L2, respectively. Figure 2.2shows the three parts forming the signal on the L1 frequency. The C/A code repeats itself every ms, andone navigation bit lasts 20ms. Hence for each navigation bit, the signal contains 20 complete C/A codes.2.7 C/A Code:In this section, the spreading sequences used in GPS are described. We restrict ourselves to the C/A codesequences, as we deal only with L1 signals in this project. The spreading sequences used as C/A codes inGPS belong to a unique family of sequences. They are often referred to as Gold codes, as Robert Golddescribed them in 1967.They are also referred to as pseudo-random noise sequences, or simply PRNsequences, because of their characteristics.2.7.1 Gold Sequence:The pseudorandom noise (PRN) codes transmitted by the GPS satellites are deterministic sequences withnoise like properties. Each C/A code is generated using a tapped linear feedback shift register (LFSR). Itgenerates a maximal-length sequence of length N = 2n -1 elements. A Gold code is the sum of twomaximum-length sequences. The GPS C/A code uses n = 10. The sequence P(t) repeats every ms so thechip length is 1ms/1023 = 977.5 ns ˜ 1 µs, which corresponds to a metric length of 300m whenpropagating through vacuum or air. The auto correlation function for this C/A code is rP (t) ={(1/NTc )? P(t) P(t +t) dt}The sequence would have 512 ones and 511 zeros, and these would appear to be distributed at random.Yet the string of chips so generated is entirely deterministic. The sequence is pseudorandom, not random.
    19. 2.7.2 Gold Sequence Generation— Overview:The generation of the Gold codes is sketched in Figure 1.6. The C/A code generator contains two shiftregisters known as G1 and G2. These shifts registers each have 10 cells generating sequences of length1023. The two resulting 1023 chips long sequences are modulo-2 added to generate a 1023 chip-long C/Acode, only if the polynomial is able to generate code of maximum length. Every 1023rd period, the shiftregisters are reset with all ones, making the code start over. The G1 register always has a feedbackconfiguration with the polynomial f (x) = 1 + x3 + x10 , (1.4)means that state 3 and state 10 are fed back to the input. In the same way, the G2 register has thepolynomial f (x) = 1 + x2 + x3 + x6 + x8 + x9 + x10 (1.5)To make different C/A codes for the satellites, the outputs of the two shift registers are combined in avery special manner. The G1 register always supplies its output, but the G2 register supplies two of itsstates to a modulo-2 adder to generate its output. The selection of states for the modulo-2 adder is calledthe phase selection. G1 Generator G1 1|2|3|4|5|6|7|8|9|10 1.023MHz Reset S1 Gold Code C/A Clock S2 G2 1|2|3|4|5|6|7|8|9|10 1023 G2 Generator code 1 KHz 50 Hz 20Figure 1.4 C/A Code generator2.7.3 Gold Sequence Generation—Details:A shift register is a set of one bit storage or memory cells. When a clock pulse is applied to the register,the content of each cell shifts one bit to the right. The content of the last cell is ?read out? as output. Thespecial properties of such shift registers depend on how information is ?read in? to cell 1. For a tappedlinear feedback shift register, the input to cell 1 is determined by the state of the other cells. For example,the binary sum from cells 3 and 10 in a 10-cell register could be the input. If cells 3 and 10 have differentstates (one is 1 and the other 0), a 1 will be read into cell 1 on the next clock pulse. If cells 3 and 10 havethe same state, 0 will be read into cell 1. If we start with 1 in every cell, 12 clock pulses later the contentswill be 0010001110. The next clock pulse will take the 1 in cell 3 and the 0 in cell 10 and place their sum
    20. (1) in cell 1. Meanwhile, all other bits have shifted cell to the right, and the 0 in cell 10 becomes the nextbit in the output. A shorthand way of denoting this particular design is by the modulo-2 polynomial f (x) =1+x3 +x10 . Such a polynomial representation is particularly useful because if 1/ f (x) = h 0 + h1 x + h2 x2 + h 3 x3+· · ·, then the coefficients h 0 , h 1 , h2 . . . form the binary output sequence.The C/A code is generated by two 10-bit LFSRs of maximal length 210 - 1. One is the 1 + x3 + x10register already described and is referred to as G1. The other has f (x) = 1 + x2 + x3 + x6 + x8 + x9 + x10.Cells 2, 3, 6, 8, 9, and 10 are tapped and binary-added to get the new input to cell 1. In this case, theoutput comes not from cell 10 but from a second set of taps. Various pairs of these second taps are binary-added. The different pairs yield the same sequence with different delays or shifts (as given by the ?shiftand add? or ?cycle and add? property: a chip-by-chip sum of a maximal-length register sequence and anyshift of itself is the same sequence except for a shift). The delayed version of the G2 sequence is binary-added to the output of G1. That becomes the C/A code. The various alternative pairs of G2 taps (delays)are used to generate the complete set of 36 unique PRN C/A codes. There are actually 37 PRN C/A codes,but two of them (34 and 37) are identical. A subset of the first 32 codes are assigned to (nominally 24)satellites and recycled when old satellites die and new satellites are launched. Codes 33 through 37 arereserved for other uses, including ground transmitters or PL‘s.2.7.4 Correlation Properties:The Gold codes are selected as spreading sequences for the GPS signals because of their characteristics.The most important characteristics of the C/A codes are their correlation properties. These properties aredescribed now. The two important correlation properties of the C/A codes can be stated as follows:Nearly no cross correlation. All the C/A codes are nearly uncorrelated with each other. That is, for twocodes Ci and Ck for satellites i and k, the cross correlation can be written asrik (m) = i (l)Ck (l + m) ˜ 0 for all m. (1.6)Nearly no correlations except for zero lag. All C/A are nearly uncorrelated with themselves, except forzero lag. This property makes it easy to find out when two similar codes are perfectly aligned. Theautocorrelation property for satellite k can be written asrkk (m) = k (l)Ck (l + m) ˜ 0 for |m| = 1. (1.7)2.8 Doppler Frequency Shift :In GPS we are faced with a Doppler frequency shift caused by the motion of the transmitter (satellite)relative to the GPS receiver. The Doppler frequency shift affects both the acquisition and tracking of theGPS signal. For a stationary GPS receiver the maximum Doppler frequency shift for the L1 frequency isaround ±5 kHz and for a GPS receiver moving at high speed it is reasonable to assume that the maximumDoppler shift is ±10 kHz. The Doppler frequency shift on the C/A code is small because of the low chiprate of the C/A code. The C/A code has a chip rate of 1.023 MHz, which is 1575.42/1.023 = 1540 timeslower than the L1 carrier frequency. It follows that the Doppler frequency on the C/A code is 3.2 Hz and6.4 Hz for the stationary and the high-speed GPS receiver, respectively. The Doppler frequency on the
    21. C/A code can cause misalignment between the received and the locally generated codes and the values ofthe Doppler frequency are important for the tracking method.2.9 Pseudorange Measurements:A GPS receiver generates a local copy of each satellite signal it expects to receive. It ?tunes in? the satelliteby adjusting the timing of the local copy until it precisely matches the timing of the signal coming downfrom the satellite. Once a match is achieved, the signal ?appears? in the receiver, which then reads thesignal‘s navigation data while tracking it with the local copy. The receiver can use the navigation data tocalculate the position of the satellite at any desired instant.The receiver measures the time delay from the satellite‘s position to its own position by comparing thetiming of its local copy of the signal to its own internal clock. The time delay is proportional to the distancebetween the satellite and the receiver, except that the measurement contains errors. These errors come frommany sources, including SA, atmospheric delays, and variations in the receiver‘s internal clock. Because ofthese errors, the delay measurements are not precisely proportional to the geometric range, so they arecalled pseudorange measurements.2.10 Navigation Data:The navigation data are transmitted on the L1 frequency with the earlier mentioned bit rate of 50 bps.This section describes the structure and contents of the navigation data. Figure 2.9 shows the overallstructure of an entire navigation message. The basic format of the navigation data is a 1500-bit-longframe containing 5 subframes, each having length 300 bits. One subframe contains 10 words, each wordhaving length 30 bits. Subframes 1, 2, and 3 are repeated in each frame. The last subframes, 4 and 5, have25 versions (with the same structure, but different data) referred to as page 1 to 25. With the bit rate of 50bps, the transmission of a subframe lasts 6 s, one frame lasts 30 s, and one entire navigation message lasts12.5 minutes.2.10.1 Telemetry and Handover WordsThe subframes of 10 words always begin with two special words, the telemetry (TLM) and handoverword (HOW) pair. TLM is the first word of each subframe and it is thus repeated every 6 s. It contains an8-bit preamble followed by 16 reserved bits and parity. The preamble should be used for framesynchronization. HOW contains a 17-bit truncated version of the time of week (TOW), followed by twoflags supplying information to the user of anti-spoofing, etc. The next three bits indicate the subframe IDto show in which of the five subframes in the current frame this HOW is located.
    22. .5 12 .. .. Subframes ) es .. ut TLM| HOW |Clock Corrections and in 5 m 0. SV health/accuracy e( m Ti 0 TLM | HOW | Ephemeris parameters TLM | HOW | Ephemeris parameters TLM| HOW |Clock Corrections and SV 30 24 18 12 6 0 health/accuracy TLM | HOW | Ephemeris parameters Time(seconds) TLM | HOW | Ephemeris parameters TLM | HOW | Almanac, ionospheric model, DUTC es am Fr TLM | HOW | AlmanacFigure 1.5 GPS Navigation Data Structure.2.10.2 Data in Navigation Message:In addition to the TLM and HOW words, each subframe contains eight words of data. This will only be acursory description of the data in the different words and not a complete description of all bits.Subframes 1 – Satellite Clock and Health Data The first subframe contains first of all clock information.That is information needed to compute at what time the navigation message is transmitted from thesatellite. Additionally, subframe 1 contains health data indicating whether or not the data should betrusted.Subframes 2 and 3 – Satellite Ephemeris Data Subframes 2 and 3 contain the satellite ephemeris data. Theephemeris data relate to the satellite orbit and are needed to compute a satellite position.Subframes 4 and 5 – Support Data As mentioned, the last two subframes repeat every 12.5 minutes,giving a total of 50 subframes. Subframes 4 and 5 contain almanac data. The almanac data are theephemerides and clock data with reduced precision. Additionally, each satellite transmits almanac data forall GPS satellites while it only transmits ephemeris data for itself. The remainder of subframes 4 and 5contain various data, e.g., UTC parameters, health indicators, and ionospheric parameters [9].
    23. Chapter 3 Differential and Augmented GPS3.1 Differential GPS:3.1.1 Differential GPS (DGPS) :Differential GPS (DGPS) is a technique for reducing the error in GPS-derived positions by usingadditional data from a reference GPS receiver at a known position. The most common form of DGPSinvolves determining the combined effects of navigation message ephemeris, ionospheric and satelliteclock errors at a reference station and transmitting pseudorange corrections, in real time, to a user‘sreceiver, which applies the corrections in the process of determining its position [10].3.1.2 Local-Area Differential GPS :Local-area differential GPS (LAGPS) is a form of DGPS in which the user‘s GPS receiver also receivesreal-time pseudorange and, possibly, carrier phase corrections from a local reference receiver generallylocated within the line of sight. The corrections account for the combined effects of navigation messageephemeris and satellite clock errors and, usually, propagation delay errors at the reference station. Withthe assumption that these errors are also common to the measurements made by the user‘s receiver, theapplication of the corrections will result in more accurate coordinates.3.1.3 Wide-Area Differential GPS:Wide-area DGPS (WADGPS) is a form of DGPS in which the user‘s GPS receiver receives correctionsdetermined from a network of reference stations distributed over a wide geographic area. Separatecorrections are usually determined for specific error sources—such as satellite clock, ionosphericpropagation delay, and ephemeris. The corrections are applied in the user‘s receiver or attached computerin computing the receiver‘s coordinates. The corrections are typically supplied in real time by way of ageostationary communications satellite or through a network of ground-based transmitters. Correctionsmay also be provided at a later date for post processing collected data.3.1.4 Wide-Area Augmentation System:The WAAS enhances the GPS standard positioning service over a wide geographic area. The U.S. FederalAviation Administration (FAA), in cooperation with other agencies, is developing WAAS to provideWADGPS corrections, additional ranging signals from geostationary earth orbit (GEO) satellites, andintegrity data on the GPS and GEO satellites [11].
    24. 3.2 SPACE-BASED AUGMENTATION SYSTEMS (SBASS):Four space-based augmentation systems (SBASs) were under development at the beginning of the thirdmillennium. These are the Wide-Area Augmentation System (WAAS), European GeostationaryNavigation Overlay System (EGNOS), Multifunctional Transport Satellite (MTSAT)–basedAugmentation System (MSAS), and GPS & GEO Augmented Navigation (GAGAN) by India.Although GPS is inherently a very accurate system for positioning and time transfer, some applicationsrequire accuracies unobtainable without some form of performance augmentation, such as differentialGPS (DGPS), in which position relative to a base (or reference) station can be established very accurately(in some cases within millimeters). A typical DGPS system employs an additional GPS receiver at thebase station to measure the GPS signals. Because the coordinates of the base station are precisely known,errors in the received GPS signals can be calculated. These errors, which include satellite clock andposition error, as well as tropospheric and ionospheric error, are very nearly the same for users at asufficiently small distance from the base station. In DGPS the error values determined by the base stationare transmitted to the user and applied as corrections to the user‘s measurements.However, DGPS has a fundamental limitation in that the broadcast corrections are good only for users ina limited area surrounding the base station. Outside this area the errors tend to be de-correlated, renderingthe corrections less accurate. An obvious technical solution to this problem would be to use a network ofbase stations, each with its own communication link to serve its geographic area. However, this wouldrequire a huge number of base stations and their associated communication links. Early on it wasrecognized that a better solution would be to use a space based augmentation system (SBAS) in which afew satellites can broadcast the correction data over a very large area. Such a system can also performsophisticated computations to optimally interpolate the errors observed from relatively few groundstations so that they can be applied at greater distances from each station. A major motivation for SBAShas been the need for precision aircraft landing approaches without requiring separate systems, such asthe existing instrument landing systems (ILSs) at each airport. An increasing number of countries arecurrently developing their own versions of SBAS, including the United States (WAAS), Europe(EGNOS), Japan (NSAS), Canada (CWAAS), China (SNAS), and India (GAGAN).3.2.2 Wide-Area Augmentation System (WAAS):In 1995 the United States began development of the Wide Area Augmentation System (WAAS) under theauspices of the Federal Aviation Administration (FAA) and the Department of Transportation (DOT), toprovide precision approach capability for aircraft. Without WAAS, ionospheric disturbances, satelliteclock drift, and satellite orbit errors cause too much error in the GPS signal for aircraft to perform aprecision landing approach. Additionally, signal integrity information as broadcast by the satellites isinsufficient for the demanding needs of public safety in aviation. WAAS provides additional integritymessages to aircraft to meet these needs.WAAS includes a core of approximately 25 wide-area ground reference stations (WRSs) positionedthroughout the United States that have precisely surveyed coordinates. These stations compare the GPSsignal measurements with the measurements that should be obtained at the known coordinates. The WRSsend their findings to a WAAS master station (WMS) using a land-based communications network andthe WMS calculates correction algorithms and assesses the integrity of the system. The WMS then sendscorrection messages via a ground uplink system (GUS) to geostationary (GEO) WAAS satellites coveringthe United States. The satellites in turn broadcast the corrections on a per-GPS satellite basis at the sameL1 1575.42 MHz frequency as GPS. WAAS-enabled GPS receivers receive the corrections and use themto derive corrected GPS signals, which enable highly accurate positioning.
    25. 3.2.3 European Geostationary Navigation Overlay System (EGNOS):The European Geostationary Navigation Overlay System (EGNOS) is Europe‘s first venture into satellitenavigation. It is a joint project of the European Space Agency (ESA), the European Commission (EC),and Euro control, the European organization for the safety of air navigation. In as much as Europe doesnot yet have its own standalone satellite navigation system, initially EGNOS is intended to augment boththe United States GPS and the Russian GLONASS systems, providing differential accuracy and integritymonitoring for safety-critical applications such as aircraft landing approaches and ship navigation throughnarrow channels.EGNOS has functional similarity to WAAS, and consists of four segments: space, ground, user, andsupport facilities segments.1. Space Segment: The space segment consists of three geostationary (GEO) satellites, the Inmarsat-3AOR-E, Inmarsat-3 AOR-W, and the ESA Artemis, which transmit wide-area differential corrections andintegrity information throughout Europe. Unlike the GPS and GLONASS satellites, these satellites willnot have signal generators aboard, but will be transponders relaying uplinked signals generated on theground.2. Ground Segment: The EGNOS ground segment includes 34 Ranging and Integrity Monitoring Stations(RIMSs), four Mission/Master Control Centers (MCCs), six Navigation Land Earth Stations (NLESs),and an EGNOS Wide-Area Network (EWAN). The RIMS stations monitor the GPS and GLONASSsignals. Each station contains a GPS/GLONASS/EGNOS receiver, an atomic clock, and networkcommunications equipment. The RIMS tasks are to perform pseudorange measurements, demodulatenavigation data, mitigate multipath and interference, verify signal integrity, and to packetize and transmitdata to the MCC centers. The MCC centers monitor and control the three EGNOS GEO satellites, as wellas perform real-time software processing. The MCC tasks include integrity determination, calculation ofpseudorange corrections for each satellite, determination of ionospheric delay, and generation of EGNOSsatellite ephemeris data. The MCC then sends all the data to the NLES stations. Every MCC has a backupstation that can take over in the event of failure. The NLES stations receive the data from the MCCcenters and generate the signals to be sent to the GEO satellites. These include a GPS-like signal, anintegrity channel, and a wide-area differential (WAD) signal. The NLES send this data on an uplink to theGEO satellites. The EWAN links all EGNOS ground-based components.3. User Segment: This segment consists of the user receivers. Although EGNOS has been designedprimarily for aviation applications, it can also be used with land or marine EGNOS-compatible receivers,including low-cost handheld units.4. Support Facilities Segment: Support for development, operations, and verifications is provided by thissegment. The EGNOS system is currently operational. Positioning accuracy obtainable from use ofEGNOS is approximately 5 m, as compared to 10–20 m with unaided GPS. There is the possibility thatthis can be improved with further technical development.
    26. 3.2.4 Japan‘s MTSAT Satellite-Based Augmentation System (MSAS):The Japanese MSAS system, currently under development by Japan Space Agency and the Japan CivilAviation Bureau, will improve the accuracy, integrity, continuity, and availability of GPS satellite signalsthroughout the Japanese Flight Information Region (FIR) by relaying augmentation information to useraircraft via Japan‘s Multifunctional Transport Satellite (MTSAT) geostationary satellites. The systemconsists of a network of Ground Monitoring Stations (GMS) in Japan, Monitoring and Ranging Stations(MRSs) outside of Japan, Master Control Stations (MCSs) in Japan with satellite uplinks, and twoMTSAT geostationary satellites. MSAS will serve the Asia–Pacific region with capabilities similar to theUnited States WAAS system. MSAS and WAAS will be interoperable and are compliant with theInternational Civil Aviation Organization (ICAO) Standards and Recommended Practices (SARP) forSBAS systems.3.2.5 Canadian Wide-Area Augmentation System (CWAAS):The Canadian CWAAS system is basically a plan to extend the U.S. WAAS coverage into Canada.Although the WAAS GEO satellites can be received in much of Canada, additional ground referencestation sites are needed to achieve valid correctional data outside the United States. At least 11 such sites,spread over Canada, have been evaluated. The Canadian reference stations are to be linked to the U.S.WAAS system.3.2.6 China‘s Satellite Navigation Augmentation System (SNAS):China is moving forward with its own version of a SBAS. Although information on their system isincomplete, at least 11 reference sites have been installed in and around Beijing in Phase I of the program,and further expansion is anticipated. Receivers manufactured by Novatel, Inc. of Canada have beendelivered for Phase II.3.2.7 Indian GPS and GEO Augmented Navigation System (GAGAN):In August 2001 the Airports Authority of India and the Indian Space Research Organization signed amemorandum of understanding for jointly establishing the GAGAN system. On the ground, eightreference stations are planned for receiving signals from GPS and GLONASS satellites. A MissionControl Center, as well as an uplink station, will be located in Bangalore. Once GAGAN is operational, itshould materially improve air safety over India. There are 449 airports and airstrips in the country, butonly 34 have instrument landing systems (ILSs) installed. With GAGAN, aircraft will be able to makeprecision approaches to any airport in the coverage area. There will undoubtedly be other uses forGAGAN, such as tracking of trains so that warnings can be issued if two trains appear likely to collide.3.3 Ground-Based Augmentation Systems (GBASs):Ground-based augmentation systems (GBASs) differ from the SBAS in that backup, aiding, and/orcorrection information is broadcast from ground stations instead of from satellites. Three major GBAS areLAAS, JPALS, and LORAN-C.
    27. 3.3.1 Local-Area Augmentation System (LAAS):LAAS is an augmentation to GPS that services airport areas approximately 20–30 mi in radius, and hasbeen developed under the auspices of the Federal Aviation Administration (FAA). It broadcasts GPScorrection data via a very high-frequency (VHF) radio data link from a ground-based transmitter, yieldingextremely high accuracy, availability, and integrity deemed necessary for aviation Categories I, II, and IIIprecision landing approaches. LAAS also provides the ability for flexible, curved aircraft approachtrajectories. Its demonstrated accuracy is less than 1 m in both the horizontal and vertical directions.A typical LAAS system, which is designed to support an aircraft‘s transition from en route airspace intoand throughout terminal area airspace, consists of ground equipment and avionics. The ground equipmentconsists of four GPS reference receivers, a LAAS ground facility, and a VHF radio data transmitter. Theavionics equipment includes a GPS receiver, a VHF radio data receiver, and computer hardware andsoftware.The GPS reference receivers and the LAAS ground facility work together to measure errors in GPSposition that are common to the reference receiver and aircraft locations. The LAAS ground facility thenproduces a LAAS correction message based on the difference between the actual and GPS-calculatedpositions of the reference receivers. The correction message includes integrity parameters and approach-path information. The LAAS correction message is sent to a VHF data broadcast transmitter, whichbroadcasts a signal containing the correction/integrity data throughout the local LAAS coverage area,where it is received by incoming aircraft. The LAAS equipment in the aircraft uses the corrections forposition, velocity, and time to generate instrument landing system (ILS) lookalike guidance as low as 200ft above touchdown. It is anticipated that further technical improvements will eventually result in verticalaccuracy below 1 m, enabling ILS guidance all the way down to the runway surface, even in zerovisibility (Category III landings).A major advantage of LAAS is that a single installation at a major airport can be used for multipleprecision approaches within its local service area. For example, if an airport has 12 runway ends, eachwith a separate ILS, all 12 ILS facilities can be replaced with a single LAAS installation. Furthermore, itis generally agreed that the Category III level of accuracy anticipated for LAAS cannot be supported byWAAS.3.3.2 Joint Precision Approach and Landing System (JPALS):JPALS is basically a military version of LAAS that supports fixed-base, tactical, special mission, andshipboard landing environments. It will allow the military to overcome problems of age and obsolescenceof ILS equipment, and also will afford greater interoperability, both among systems used by the variousservices and between military and civilian systems. The main distinction between LAAS and JPALS isthat the latter can be quickly deployed almost anywhere and makes full use of military GPS functionality,which includes the use of the encrypted M-codes not available for civilian use. The requirement fordeployment in a variety of locations not optimized for good GPS reception places great demands on theability of JPALS equipment to handle poor signal environments and multipath. Such problems are not assevere for LAAS installations, where there is more freedom in site selection for best GPS performance ofthe reference receivers. Additionally, JPALS GPS receivers must be designed to foil frequent attempts bythe enemy to jam the received GPS signals [12].
    28. 3.3.3 Long-Range Navigation (LORAN-C):LORAN-C is a low-frequency ground-based radio navigation and time reference system that uses stable100 kHz transmissions to provide an accurate regional positioning service. Unlike LAAS and JPALS,LORAN-C is an independent, standalone system that does not provide corrections to GPS signals, butinstead uses time difference of arrival (TDOA) to establish position. LORAN-C transmitters areorganized into chains of 3–5 stations. Within a chain one station is designated as the master (M) and theother secondary stations (slaves) are identified by the letters W, X, Y, and Z. The sequence of signaltransmissions consists of a pulse group from the master station followed at precise time intervals by pulsegroups from the secondary stations. All LORAN-C stations operate on the same frequency of 100 kHz,and all stations within a given chain use the same group repetition interval (GRI) to uniquely identify thechain. Within a chain, each of the slave stations transmits its pulse group with a different delay relative tothe master station in such a way that the sequence of the pulse groups from the slaves is always receivedin the same order, independent of the location of the user. This permits identification of the individualslave station transmissions.The basic measurements made by LORAN-C receivers are TDOAs between the master station signalpulses and the signal pulses from each of the secondary stations in a chain. Each time delay is measuredto a precision of about 0.1 µs or better. LORAN-C stations maintain integrity by constantly monitoringtheir transmissions to detect signal abnormalities that would render the system unusable for navigation. Ifa signal abnormality is detected, the transmitted pulse groups ?blink? on and off to notify the user that thetransmitted signal does not comply with the system specifications. LORAN-C, with an accuracyapproaching approximately 30 m in regions with good geometry, is not as precise as GPS. However, ithas good repeatability, and positioning errors tend to be stable over time. A major advantage of usingLORAN-C as an augmentation to GPS is that it provides a backup system completely independent ofGPS. A failure of GPS that would render LAAS or JPALS inoperable does not affect positioning usingLORAN-C. On the other hand, LORAN-C is only a regional and not a truly global navigation system,covering significant portions, but not all, of North America, Canada, and Europe, as well as some otherareas.3.4 Inmarsat Civil Navigation:The Inmarsat overlay is an implementation of a wide-area differential service. Inmarsat is theInternational Mobile Satellite Organization (IMSO), an 80-nation international consortium, originallycreated in 1979 to provide maritime 2 mobile services on a global basis but now offering a much widerrange of mobile satellite services. Inmarsat launched four geostationary satellites that provide completecoverage of the globe from ±70? latitude. The data broadcast by the satellites are applicable to users inregions having a corresponding ground station network. The U.S. region is the continental U.S. (CONUS)and uses Atlantic Ocean Region West (AOR-W) and Pacific Ocean Region (POR) geostationarysatellites. This is called the WAAS and is being developed by the FAA. The ground station network isoperated by the service provider, that is, the FAA, whereas Inmarsat is responsible for operation of thespace segment. Inmarsat affiliates operate the uplink Earth stations (e.g., COMSAT in the United States).3.5 Satellite Overlay:The Inmarsat Civil Navigation Geostationary Satellite Overlay extends and complements the GPS andGLONASS satellite systems. The overlay navigation signals are generated at ground-based facilities. Forexample, for WAAS, two signals are generated from Santa Paula, California—one for AOR-W and onefor POR. The backup signal for POR is generated from Brewster, Washington. The backup signal forAOR-W is generated from Clarksburg, Maryland. Signals are uplinked to Inmarsat-3 satellites such as
    29. AOR-W and POR. These satellites contain special satellite repeater channels for rebroadcasting thenavigation signals to users. The use of satellite repeater channels differs from the navigation signalbroadcast techniques employed by GLONASS and GPS. GLONASS and GPS satellites carry their ownnavigation payloads that generate their respective navigation signals.3.6 Future Satellite Systems:In Europe, activities supported by the European Tripartite Group [European Space Agency (ESA),European Commission (EC), EUROCONTROL] are underway to specify, install, and operate a futurecivil global navigation satellite system (GNSS) (GNSS-2 or Galileo). Based on the expectation thatGNSS-2 will be developed through an evolutionary process as well as long-term augmentations [e.g.,EGNOS], short to midterm augmentation systems (e.g., differential systems) are being targeted. The firststeps toward GNSS-2 will be made by the Tripartite Group. The augmentations will be designed such thatthe individual elements will be suitable for inclusion in GNSS-2 at a later date. This design process willprovide the user with maximum continuity in the upcoming transitions. In Japan, the JapaneseCommercial Aviation Board (JCAB) is currently developing the MSAS [12].
    30. Chapter 4 Pseudolite Concept and Considerations4.1 Psuedolite Concept:The formal specification for the Global Positioning System describes only satellite-based transmitters forthe GPS signals. Nevertheless, ground-based transmitters have been used to complement the satellites sincethe earliest days of the GPS concept. These auxiliary ground-based transmitters were called ?pseudosatellites,? which was quickly shortened to pseudolites. During the initial tests of GPS, pseudolites wereused as direct replacements for satellites which had not yet been launched, allowing the tests to proceedmore quickly. Since that time, other concepts for the use of pseudolites have arisen. Pseudolites augmentexisting GPS navigation and positioning techniques. Some receivers cannot track pseudolites at all, orcannot track GPS satellites in the presence of pseudolites [13]. Pseudolites (PL) are used in a variety ofsituations, both to augment the GPS based navigation and also to navigate entirely without GPS.Typically, a minimum of four pseudolite transmitters with known positions are needed to obtainunambiguous positions and time estimation. It is also necessary to have accurate time synchronizationbetween the pseudolite transmitters. These pseudolites can thus be used to navigate in indoor conditions,urban canyons or in other GPS obscured situations. These can also be used for augmentation of GPS,improving accuracies, such as those required for precision approach and landing, etc.The pseudolite positions can be obtained from:1. External sources (via network or manual entry)2. Built-in GPS receiversWhen the GPS signal is not available to the pseudolite transmitter (inside a building, tunnel, etc.),predetermined positions (or positions determined by independent means) can be used for fixed siting ofPL transmitters. PL transmitters also require very accurate time synchronization. This can be provided byexternal stable clocks (10 MHz) derived from GPS signal, or made available through various networks.The transmitted waveforms may be selected by the user. These can be any of the pseudolite codes (PRNs33 to 37), or, alternatively, arbitrary waveforms determined by the user. This allows for additionalcapabilities, such as navigation using signals of opportunity (TV, radio). The software-based pseudolitearchitecture allows for extreme flexibility, providing the user with various run-time options, such asselective denial and pulse blanking, as well as integration of various options with the standard units. Themajor improvements offered by pseudolites are the following:1. Improvement in Geometry. Pseudolites, acting as additional satellites, can provide major improvementsin geometry, hence in positioning accuracy, within their region of coverage. Vertical (VDOP) as well ashorizontal (HDOP) dilution of precision can be dramatically reduced, which is of major importance toaviation. Experiments have shown that PDOP of about 3 over a region having a radius of 20–40 km can
    31. be obtained by using several pseudolites even when there are fewer than the minimum of four satellitesthat would otherwise be needed for a navigation solution.2. Improvement in Signal Availability. Navigation solutions with fewer than the minimum requirednumber of GPS satellites are made possible by using the additional signals provided by pseudolites.3. Inherent Transmission of Differential Corrections. The GPS-like signals transmitted by a pseudoliteinclude messaging capability that can be received directly by the GPS receiver, thus allowing the user toreceive differential corrections without the need for a separate communications link.4. Self-Contained Failure Notification. The additional signals provided by pseudolites permit users toperform their own failure assessments. For example, if pseudorange measurements from four satellitesand one pseudolite are available, a problem can be detected by examining the consistency of themeasurements. If two pseudolites are available, not only can the failure of a single signal be detected, butthe offending signal can be identified as well. These advantages are especially important in aviation,where pilot notification of signal failures must occur very rapidly (within 1–10 s).5. Solution of Signal Blockage Problems. The additional signals from pseudolites can virtually eliminateproblems due to blockage of the satellite signals by objects, terrain, or the receiving platform itself.4.2 Pseudolite Signal Structure:Ideally the pseudolite signal structure would permit reception by a standard GPS receiver with little or nomodification of the receiver design. Thus it would seem that the pseudolite signal should have a uniqueC/A-code with the same characteristics as the C/A-codes used by the satellites. However, with thisscheme it would be difficult to prevent a pseudolite signal from interfering with the reception of thesatellite signals, even if its C/A-code were orthogonal to the satellite codes. The fundamental difficulty,which is called the near–far problem, occurs because of the inverse square-law dependence of receivedsignal power with range. The near–far problem does not occur with the GPS satellite signals becausevariation in the user-to-satellite range is relatively small compared to its average value. However, withpseudolites this is not the case. The problem is illustrated by considering that the received signal strengthof a pseudolite must be at least approximately that of a satellite. If the pseudolite signal equals that of asatellite when the user is, say, 50 km from the pseudolite, then that same signal will be 60 dB strongerwhen the user is 50 m from the pseudolite. At this close range the pseudolite signal would be so strongthat it would jam the weaker GPS satellite signals. Several solutions to the near–far problem involvingboth pseudolite signal design and receiver design have been proposed for the 60-dB received signaldynamic range discussed above.4.3 Pseudolite Signal Design Approaches:1. Use of High-Performance Pseudorandom Codes. The 60 dB of jamming protection would require thepseudolite to transmit a code much longer than a C/A-code and clocked at a much higher rate. This hasbeen judged to be an impractical solution because it would reduce compatibility with the GPS signalstructure and significantly increase receiver costs.2. Pseudolite Frequency Offset. By moving the frequency of the pseudolite signal sufficiently far awayfrom the 1575.42-MHz L1 frequency, filters in the receiver could prevent the pseudolite signals from
    32. interfering with the satellite signals. Again, however, this approach would significantly increase receivercosts and reduce compatibility with the GPS signal structure.3. Low-Duty-Cycle Time-Division Multiplexing. A preferred approach is for the pseudolite to transmit atthe L1 frequency using short, low-duty-cycle pulses that interfere with the satellite signals only a smallfraction of the time. The impact on receiver design is minimal because modifications are primarily digitaland low in cost. This approach retains compatibility with the GPS signal structure by using a new set of51 pseudolite Gold codes with the same chipping rate, period, and number of chips per period as thesatellite C/A-codes and a 50-bps (bits per second) data stream. Although the codes run continuously inboth the pseudolite and the user receiver, the pseudolite signal is gated on only during eleven 90.91-µsintervals in each 10-ms (half-data-bit) interval. Each of the 11 gate intervals transmits 93 new chips of thecode, so that all 1023 chips get transmitted in 10ms. However, the timing of the gate intervals israndomized in order to randomize the signal spectrum [14].4.4 Pseudolite Characteristics:1. Pseudolite Identification. Identification of a pseudolite is accomplished by both its unique Gold codeand its physical location, which appears in its 50-bps (bits per second) message. Since pseudolite signalsare low power and thus can be received only within a relatively small coverage area, it is possible forpseudolites spaced sufficiently far apart to use the same Gold code. In this case correct identification iseffected by noting the location transmitted by the pseudolite.2. Pseudolite Clock Offset. Since the pseudolite can monitor GPS signals over extended time periods, itcan determine GPS time. This permits the transmitted epochs of the pseudolite signal to be correct in GPStime and avoids the necessity of transmitting pseudolite clock corrections. The time reference for thedifferential pseudorange corrections transmitted by the pseudolite is also GPS time.3. Transmitted Signal Power. The primary use of pseudolite signals is for aircraft in terminal areas, sothat a typical maximum reception range is 50km. At this range a half-hemisphere omnidirectionaltransmitting antenna fed with approximately 30mW of signal power will provide a signal levelcomparable to that typical of a GPS satellite (-116dBm). At a range of 50m the signal level will be 60 dBlarger (-56 dBm).4. Pseudolite Message Structure. Although the pseudolite data stream is 50 bps (bits per second) to ensurecompatibility with GPS receivers, its structure must be modified to transmit information that differssomewhat from that transmitted by the GPS satellites.5. Minimum Physical Spacing of Pseudolites. Placement of pseudolites involves considerations thatdepend on whether the pseudolites use the same or different Gold codes.4.5 Separation of Pseudolites Using the Same CodeOne approach when two pseudolites use the same code is to synchronize the timing of the gated signals ofthe pseudolites and separate the pseudolites by a distance that guarantees that received transmissions fromdifferent pseudolites will not overlap. This requires that the pseudolites be separated by at least 130 km,which guarantees that a user 50 km from the desired pseudolite will be at least 80 km from the undesiredpseudolite. The pulses from the latter will then travel at least 30 km further than those from the desiredpseudolite, thus arriving at least 100 µs later. Since the width of pulses is 90.91 µs, pulses from twopseudolites will not overlap and interference is thereby avoided.
    33. However, a more conservative approach is to separate two pseudolites by a distance that is sufficient toguarantee that when the user is at the maximum usable range from one pseudolite, the signal from theother is too weak to interfere. Suppose that each pseudolite is set to achieve a received signal level of-126 dBm at a maximum service radius of 50 km and that an undesired pseudolite signal must be at least14 dB below the desired signal to avoid interference. A simple calculation involving the inverse squarepower law shows that this can be achieved with a minimum spacing of 300 km between the twopseudolites, so that the minimum distance to the undesired pseudolite will be 250 km when the user is 50km from the desired pseudolite.4.6 Receiver Design for Pseudosatellite Compatibility:Major design issues for a GPS receiver that receives pseudosatellite signals (often called a participatingreceiver) are as follows:1. Continuous Reception. Because the receiver must continuously recover the pseudolite data message, achannel must be dedicated to this task. For this reason a single-channel slow-sequencing receiver couldnot be used. This is really not a problem, since almost all modern receivers use parallel channels.2. Ability to Track Pseudolite Gold Codes. The receiver must be capable of generating and tracking eachof the 51 special C/A-codes specified for the pseudolite signals. Although the codes can be tracked withstandard GPS tracking loops, optimum performance demands that the noise between pseudolite pulses beblanked to obtain a 10-dB improvement in SNR.3. Reduction of Pseudosatellite Interference to GPS Signal Channels. In a GPS satellite channel apseudolite signal appears as pulsed interference that can be 60 dB greater above the satellite signal level.The resulting degradation of the GPS satellite signal can be reduced to acceptable levels by properlydesigned wideband pre correlation signal clipping in the receiver. This approach, which generallyimproves with increasing pre correlation bandwidth and decreasing clipping level, typically results in areduction in the GPS SNR of 1–2 dB. A somewhat more effective approach is to blank the GPS signalahead of the correlator during the reception of a pseudolite pulse, which results in a GPS SNR reductionof about 0.5 dB.4. Ability to Receive Overlapping Pseudolite Pulses. A group of pseudolites designed to be utilizedsimultaneously must be located relatively close together, inevitably causing received pulse overlap incertain portions of the coverage area. Consequently, receiver design parameters must be chosen carefullyto ensure that overlapping pulses from different pseudolites can be separated. The signal level from anearby pseudolite often can be strong enough to overcome the approximately 24 dB of interferencesuppression provided by the cross-correlation properties of distinct Gold codes and also can obliterate asecond overlapping signal by saturating the receiver amplifiers. Both of these problems can be solved byproperly designed wideband pre correlation signal clipping, in which there are two conflictingrequirements. Deep (severe) clipping significantly reduces the amount of interfering power from a strongsignal but gives the stronger signal more ability to blank out the weaker one (capture effect). On the otherhand, more modest clipping levels reduce the capture effect at the expense of passing more power fromthe stronger signal into the correlators. As a result, more stress is put on the Gold codes to separate theweaker pulses from the stronger ones in the correlation process. An acceptable compromise for mostpurposes is to clip the received signal at about ±2 standard deviations of the pre correlation noise power[15].
    34. Chapter 5 Receiver and Antenna Design5.1Reciever Architecture:Although there are many variations in GPS receiver design, all receivers must perform certain basicfunctions. We will now discuss these functions in detail, each of which appears as a block in the diagramof the generic receiver shown in Fig. 5.1. 1575.42MHz Second IF RF Stage First IF Stage Stage 17 MHz A/D 64 MSPS Convertor L1 30-100 MHz L2 4-20 MHz Local Frequency Oscillator Synthesizer Digitized IF 1575.42MHz ± IF 17 MHz ± 10KHz Signal 8 MSPS Acquisition,Tracking,Navigat ion Data User Extraction,Pseudorange Position Calculations,Figure 5.1 Basic architecture of receiver front end.5.2 Radiofrequency Stages (Front End):The purpose of the receiver front end is to filter and amplify the incoming GPS signal. As was pointed outearlier, the GPS signal power available at the receiver antenna output terminals is extremely small andcan easily be masked by interference from more powerful signals adjacent to the GPS passband. To makethe signal usable for digital processing at a later stage, RF amplification in the receiver front end providesas much as 35–55 dB of gain. Usually the front end will also contain passband filters to reduce out-of-band interference without degradation of the GPS signal waveform. The nominal bandwidth of both theL1 and L2 GPS signals is 20 MHz (±10 MHz on each side of the carrier), and sharp-cutoff bandpass
    35. filters are required for out-of-band signal rejection. However, the small ratio of passband width to carrierfrequency makes the design of such filters infeasible. Consequently, filters with wider skirts arecommonly used as a first stage of filtering, which also helps prevent front-end overloading by stronginterference, and the sharp-cutoff filters are used later after down conversion to intermediate frequencies(IFs).However, the frequency can deviate from the expected value. The line-of-sight velocity of thesatellite (with respect to the receiver) causes a Doppler effect resulting in a higher or lower frequency. Inthe worst case, the frequency can deviate up to ±10 kHz.5.3 Frequency Down conversion and IF Amplification:After amplification in the receiver front end, the GPS signal is converted to a lower frequency called anintermediate frequency for further amplification and filtering. Down conversion accomplishes severalobjectives:1. The total amount of signal amplification needed by the receiver exceeds the amount that can beperformed in the receiver front end at the GPS carrier frequency. Excessive amplification can result inparasitic feedback oscillation, which is difficult to control. In addition, since sharp-cutoff filters with aGPS signal bandwidth are not feasible at the L-band, excessive front-end gain makes the end-stageamplifiers vulnerable to overloading by strong nearby out-of-band signals. By providing additionalamplification at an IF different from the received signal frequency, a large amount of gain can be realizedwithout the tendency toward oscillation.2. By converting the signal to a lower frequency, the signal bandwidth is unaffected, and the increasedratio of bandwidth to center frequency permits the design of sharp-cutoff bandpass filters. These filterscan be placed ahead of the IF amplifiers to prevent saturation by strong out-of-band signals. The filteringis often by means of surface acoustic wave (SAW) devices.3. Conversion of the signal to a lower frequency makes the sampling of the signal required for digitalprocessing much more feasible. Down conversion is accomplished by multiplying the GPS signal by asinusoid called the local-oscillator signal in a device called a mixer. The local-oscillator frequency iseither larger or smaller than the GPS carrier frequency by an amount equal to the IF. In either case the IFsignal is the difference between the signal and local-oscillator frequencies. Sum frequency componentsare also produced, but these are eliminated by a simple bandpass filter following the mixer. An incomingsignal either above or below the local-oscillator frequency by an amount equal to the IF will produce anIF signal, but only one of the two signals is desired. The other signal, called the image, can be eliminatedby bandpass filtering of the desired signal prior to downconversion. However, since the frequencyseparation of the desired and image signal is twice the IF, the filtering becomes difficult if a singledownconversion to a low IF is attempted. For this reason downconversion is often accomplished in morethan one stage, with a relatively high first IF (30–100 MHz) to permit image rejection. Whether it issingle-stage or multistage, downconversion typically provides a final IF that is low enough to be digitallysampled at feasible sampling rates without frequency aliasing. In low-cost receivers typical final IFsrange from 4 to 20 MHz with bandwidths that have been filtered down to several MHz. This permits arelatively low digital sampling rate and at the same time keeps the lower edge of the signal spectrum wellabove 0 Hz to prevent spectral fold over. However, for adequate image rejection either multistagedownconversion or a special single-stage image rejection mixer is required. In more advanced receiversthere is a trend toward single conversion to a signal at a relatively high IF (30–100 MHz), becauseadvances in technology permit sampling and digitizing even at these high frequencies.
    36. 5.4 Signal- to-Noise Ratio: An important aspect of receiver design is the calculation of signal quality as measured by the signal-to-noise ratio (SNR) in the receiver IF bandwidth. Typical IF bandwidths range from about 2 MHz in low-cost receivers to the full GPS signal bandwidth of 20 MHz in high-end units, and the dominant type ofnoise is the thermal noise in the first RF amplifier stage of the receiver front end (or the antennapreamplifier if it is used). The noise power in this bandwidth is given by N = kTeB (3.1)where k = 1.3806 × 10-23 J/K, B is the bandwidth in Hz, and Te is the effective noise temperature indegrees Kelvin. The effective noise temperature is a function of sky noise, antenna noise temperature, linelosses, receiver noise temperature, and ambient temperature. A typical effective noise temperature for aGPS receiver is 513 K, resulting in a noise power of about -138.5 dBW in a 2-MHz bandwidth and-128.5 dBW in a 20-MHz bandwidth. The SNR is defined as the ratio of signal power to noise power inthe IF bandwidth, or the difference of these powers when expressed in decibels.5.5 Digitization:In modern GPS receivers digital signal processing is used to track the GPS signal, make pseudorange andDoppler measurements, and demodulate the 50-bps (bits per second) data stream. For this purpose thesignal is sampled and digitized by an analog-to-digital converter (ADC). In most receivers the final IFsignal is sampled, but in some the final IF signal is converted down to an analog baseband signal prior tosampling. The sampling rate must be chosen so that there is no spectral aliasing of the sampled signal;this generally will be several times the final IF bandwidth (2–20 MHz).Most low-cost receivers use 1-bit quantization of the digitized samples, which not only is a very-low costmethod of analog-to-digital conversion, but has the additional advantage that its performance isinsensitive to changes in voltage levels. Thus, the receiver needs no automatic gain control (AGC). Atfirst glance it would appear that 1-bit quantization would introduce severe signal distortion. However, thenoise, which is Gaussian and typically much greater than the signal at this stage, introduces a ditheringeffect that, when statistically averaged, results in an essentially linear signal component. One-bitquantization does introduce some loss in SNR, typically about 2 dB, but in low-cost receivers this is anacceptable tradeoff. A major disadvantage of 1-bit quantization is that it exhibits a capture effect in thepresence of strong interfering signals and is therefore quite susceptible to jamming. Typical high-endreceivers use anywhere from 1.5-bit (three-level) to 3-bit (eight-level) sample quantization. Three-bitquantization essentially eliminates the SNR degradation found in 1-bit quantization and materiallyimproves performance in the presence of jamming signals. However, to gain the advantages of multi-bitquantization, the ADC input signal level must exactly match the ADC dynamic range. Thus the receivermust have AGC to keep the ADC input level constant. Some military receivers use even more than 3-bitquantization to extend the dynamic range so that jamming signals are less likely to saturate the ADC.
    37. 5.6 Receiver Design Choices:5.6.1 Number of Channels and Sequencing Rate:GPS receivers must observe the signal from at least four satellites to obtain three dimensional positionand velocity estimates. If the user altitude is known, three satellites will suffice. There are several choicesas to how the signal observations from a multiplicity of satellites can be implemented. In early designs,reduction of hardware cost and complexity required that the number of processing channels be kept at aminimum, often smaller than the number of satellites observed. In this case, each channel mustsequentially observe more than one satellite. As a result of improved lower-cost technology, most modernGPS receivers have a sufficient number of channels to permit one satellite to be continuously observed oneach channel.5.6.2 Receivers with Channel Time Sharing:Single-Channel Receivers - In a single-channel receiver, all processing, such as acquisition, datademodulation, and code and carrier tracking, is performed by a single channel in which the signals fromall observed satellites are time-shared. Although this reduces hardware complexity, the software requiredto manage the time-sharing process can be quite complex, and there are also severe performancepenalties. The process of acquiring satellites can be very slow and requires a juggling act to track alreadyacquired satellites while trying to acquire others. The process is quite tricky when receiving ephemerisdata from a satellite, since about 30 s of continuous reception is required. During this time the signalsfrom other satellites are eclipsed, and resumption of reliable tracking can be difficult. After all satelliteshave been acquired and their ephemeris data stored, two basic techniques can be used to track the satellitesignals in a single-channel receiver. In slow-sequencing designs the signal from each satellite is observedfor duration (dwell time) on the order of 1 s. Since a minimum of four satellites must typically beobserved, the signal from each satellite is eclipsed for an appreciable length of time. For this reason, extratime must be allowed for signal reacquisition at the beginning of each dwell interval. Continually havingto reacquire the signal generally results in less reliable operation, since the probability of losing a signal isconsiderably greater as compared to the case of continuous tracking. This is especially critical in thepresence of dynamics, in which unpredictable user platform motion can take place during signal eclipse.Generally the positioning and velocity accuracy is also degraded in the presence of dynamics. If a single-channel receiver does not have to accurately measure velocity, tracking can be accomplished with only afrequency-lock loop (FLL) for carrier tracking. Since a FLL typically has a wider pull-in range and ashorter pull-in time than does a phase-lock loop (PLL), reacquisition of the signal is relatively fast and thesequencing dwell time can be as small as 0.25 s per satellite. Because loss of phase lock is not an issue,this type of receiver is also more robust in the presence of dynamics. On the other hand, if accuratevelocity determination is required, a PLL must be used and the extra time required for phase lock duringsignal reacquisition pushes the dwell time up to about 1–1.5 s per satellite, with an increased probabilityof reacquisition failure due to dynamics.A single-channel receiver requires relatively complex software for managing the satellite time-sharingprocess. A typical design employs only one pseudonoise (PN) code generator and one PPL in hardware.Typical tasks that the software must perform during the dwell period for a specific satellite are as follows:1. Select the PN code corresponding to the satellite observed.
    38. 2. Compute the current state of the code at the start of the dwell based on the state at the end of the lastdwell, the signal Doppler, and the eclipse time since the last dwell.3. Load the code state into the code generator hardware.4. Compute the initial Doppler frequency of the FLL/PLL reference.5. Load the Doppler frequency into the FLL/PLL hardware.6. Initiate the reacquisition process by turning on the code and carrier tracking loops.7. Determine when reacquisition (code/frequency/phase lock) has occurred.8. Measure pseudorange/carrier phase/carrier phase rate during the remainder of the dwell.In addition to these tasks, the software must be capable of ignoring measurements from a satellite if thesignal is momentarily lost and must permanently remove the satellite from the sequencing cycle when itssignal becomes unusable, such as when the satellite elevation angle is below the mask angle. The softwaremust also have the capability of acquiring new satellites and obtaining their ephemeris data as theirsignals become available while at the same time not losing the satellites already being tracked. A satellitewhose ephemeris data are being recorded must have a dwell time (about 30 s) much longer than those ofother satellites that are only being tracked, which causes a much longer eclipse time for the latter. Thesoftware must therefore modify the calculations listed above to take this into account. Because currenttechnology makes the hardware costs of a multichannel receiver almost as small as that for a singlechannel, the single-channel approach has been almost entirely abandoned in modern designs.Another method of time sharing that can be used in single-channel receivers is multiplexing, in which thedwell time is much shorter, typically 5–10 ms per satellite. Because the eclipse time is so short, thesatellites do not need to be reacquired at each dwell. However, a price is paid in that the effective SNR issignificantly reduced in proportion to the number of satellites being tracked. Resistance to jamming isalso degraded by values of 7 dB or more.Additionally, the process of acquiring new satellites without disruption is made more demanding becausethe acquisition search must be broken into numerous short time intervals. Because of the rapidity withwhich satellites are sequenced, a common practice with a two-channel receiver is to use a fullcomplement of PN code generators that run all the time, so that high-speed multiplexing of a single codegenerator can be avoided.Two-Channel Receivers - The use of two channels permits the second channel to be a ?roving? channel,in which new satellites can be acquired and ephemeris data collected while on the first channel satellitescan be tracked without slowdown in position/velocity updates. However, the satellites must still be time-shared on the first channel. Thus the software must still perform the functions listed above and in additionmust be capable of inserting/deleting satellites from the sequencing cycle. As with single-channel designs,either slow sequencing or multiplexing may be used.Receivers with Three to Five Channels - In either slow-sequencing or multiplexed receivers, additionalchannels will generally permit better accuracy and jamming immunity as well as more robustperformance in the presence of dynamics. A major breakthrough in receiver performance occurs with fiveor more channels, because four satellites can be simultaneously tracked without the need for time sharing.The fifth channel can be used to acquire a new satellite and collect its ephemeris data before using it toreplace one of the satellites being tracked on the other four channels.Multichannel All-in-View Receivers - The universal trend in receiver design is to use enough channels toreceive all satellites that are visible. In most cases eight or fewer useful satellites are visible at any given
    39. time; for this reason modern receivers typically have no more than 10–12 channels, with perhaps severalchannels being used for acquisition of new satellites and the remainder for tracking. Position/velocityaccuracy is materially improved because satellites do not have to be continually reacquired as is the casewith slow sequencing, there is no reduction in effective SNR found in multiplexing designs, and the useof more than the minimum number of satellites results in an over determined solution. In addition,software design is much simpler because each channel has its own tracking hardware that tracks only onesatellite and does not have to be time shared.
    40. Chapter 6 Acquisition and Tracking Loops of GPS Signals6.1 Acquisition of GPS Signals:The purpose of acquisition is to determine visible satellites and coarse values of carrier frequency andcode phase of the satellite signals. The second parameter, code phase, is the time alignment of the PRNcode in the current block of data. It is necessary to know the code phase in order to generate a local PRNcode that is perfectly aligned with the incoming code. Only when this is the case, the incoming code canbe removed from the signal. PRN codes have high correlation only for zero lag. That is, the two signalsmust be perfectly aligned to remove the incoming code. The third parameter is the carrier frequency,which in case of down conversion corresponds to the IF. The IF should be known from the L1 carrierfrequency of 1575.42MHz and from the mixers in the down converter. However, the frequency candeviate from the expected value. The line-of-sight velocity of the satellite (with respect to the receiver)causes a Doppler effect resulting in a higher or lower frequency. In the worst case, the frequency candeviate up to ±10 kHz. It is important to know the frequency of the signal to be able to generate a localcarrier signal. This signal is used to remove the incoming carrier from the signal. In most cases it issufficient to search the frequencies such that the maximum error will be less than or equal to 500 Hz. In an ordinary receiver, the acquisition is usually performed in an application specific integrated circuit(ASIC). In a software receiver, it is implemented in software.Basically, there are three standard methods of performing Acquisition in GPS receiver end, namely:1. Serial Search Acquisition2. Parallel Frequency Space Search Acquisition3. Parallel Code Phase Search Acquisition6.2 Serial Search Acquisition:Serial search acquisition is an often-used method for acquisition in code-division multiple access systems(CDMA). GPS is a CDMA system. Figure 6.1 is a block diagram of the serial search algorithm. As seenin Figure 6.1, the algorithm is based on multiplication of locally generated PRN code sequences andlocally generated carrier signals. The PRN generator generates a PRN sequence corresponding to aspecific satellite. The generated sequence has a certain code phase, from 0 to 1022 chips. The incomingsignal is initially multiplied by this locally generated PRN sequence. After multiplication with the PRNsequence, the signal is multiplied by a locally generated carrier signal. Multiplication with the locallygenerated carrier signal generates the inphase signal I , and multiplication with a 90? phase-shiftedversion of the locally generated carrier signal generates the quadrature signal Q.
    41. The I and Q signals are integrated over 1 ms, corresponding to the length of one C/A code, and finallysquared and added. Ideally, the signal power should be located in the I part of the signal, as the C/A codeis only modulated onto that.However, in this case the I signal generated at the satellite does not necessarily correspond to thedemodulated I . This is because the phase of the received signal is unknown. So to be certain that the Incoming Signal Sk(n) Integration Squaring Output Integration Squaring 90 PRN Code Local Oscillator Generator 1023 IF ± the frequency step (500 Hz)Figure 6.1 Block Diagram of Serial Search Algorithm.signal is detected, it is necessary to investigate both the I and the Q signal. The output is a value ofcorrelation between the incoming signal and the locally generated signal. If a predefined threshold isexceeded, the frequency and code phase parameters are correct, and the parameters can be passed on tothe tracking algorithms [16].The serial search algorithm performs two different sweeps: a frequency sweep over all possible carrierfrequencies of IF ±10 kHz in steps of 500 Hz and a code phase sweep over all 1023 different code phases.All in all, this sums up to a total of 1023 {2(10,000/500) + 1} = 1023*41 = 41,943 (6.1) Code phases Frequencies6.2.1 PRN Sequence Generation:Figure 6.1 shows that the first task in the serial search acquisition method is to multiply the incomingsignal with the locally generated PRN sequence. This of course involves the generation of this PRNsequence. Instead of generating PRN sequences every time the algorithm is executed, all possible PRN
    42. sequences are generated offline. The 32 different PRN sequences are generated by the PRN generatorimplemented according to figure 2.5. The PRN code generator is implemented using the binary values 0and 1. However, in the signal processing algorithms it is more convenient to represent the codes with apolar non-return-to-zero representation. With 32 generated PRN sequences, all possible sequencesoriginating from GPS satellites are created. However, as mentioned in the theory of serial searchacquisition, the method involves multiplication with all possible shifted versions of the PRN codes. Thatis, besides saving the 32 possible PRN codes all possible shifted versions should also be saved. This sumup to a total of 32,736 different PRN codes.6.2.2 Carrier Generation:The second step is multiplication with a locally generated carrier wave. The carrier generator mustgenerate two carrier signals with a phase difference of 90?, corresponding to a cosine and a sine wave.The carrier must have a frequency corresponding to the IF ± the frequency step according to the examinedfrequency area. It must be sampled with the sampling frequency of 64 MHz and have a length of 1ms. Acomplex signal is generated using the natural exponential function e j2p f .6.2.3 Integration and Squaring:The last parts of the serial search algorithm involve integration and a squaring of the two results of themultiplications with the cosine and sine signals, respectively. The squaring is introduced to obtain thesignal power. The integration is simply a summation of all 38,192 points corresponding to the length ofthe processed data. The squaring is then performed on the result of the summation. The final step is to addthe two values from the I arm and the Q arm. If the locally generated code is well aligned with the code inthe incoming signal and the frequency of the locally generated carrier matches the frequency of theincoming signal, the output will be significantly higher than if any of these criteria were not fulfilled.6.3 Carrier and Code Tracking of GPS Signals:The acquisition provides only rough estimates of the frequency and code phase parameters. The mainpurpose of tracking is to refine these values, keep track, and demodulate the navigation data from thespecific satellite (and provide an estimate of the pseudorange). A basic demodulation scheme is shown inFigure 6.2.The figure shows the scheme used to demodulate the input signal to obtain the navigation message. First,the input signal is multiplied with a carrier replica. This is done to wipe off the carrier wave from thesignal. In the next step, the signal is multiplied with a code replica, and the output of this multiplicationgives the navigation message. So the tracking module has to generate two replicas, one for the carrier andone for the code, to perfectly track and demodulate the signal of one satellite. In the following, a detaileddescription of the demodulation scheme is conducted.6.3.1 Demodulation:Let f L1 and f L2 be the carrier frequencies of L1 and L2 for the signal transmitted from satellite k withpowers P C, PP L1 , and PP L2 for C/A or P code. The C/A code sequence is Ck (t) and the P(Y) code sequenceis Pk (t). If the navigation data sequence is called Dk (t), the total signal is given as
    43. Sk (t) = (Ck (t)?Dk(t))cos( f L1t) + P PL1(P k(t)?Dk(t))sin( f L1t) + P PL2(P k(t)?Dk(t))sin( f L2t) (6.1)The output from the front end including filtering and down conversion can be described asSk (t) = (Ck (t)?Dk(t))cos(fIFt) + P PL1(P k(t) ?Dk(t))sin(fIF t) (6.2)where fIF is the intermediate frequency to which the front end has downconverted the carrier frequency.Equation (6.2) describes the output of the front end from one satellite. This signal is then sampled by theA/D converter. Because of the narrow bandpass filter around the C/A code, the P code is distorted. In thisway the last term in Equation (6.2) is filtered out and cannot be demodulated and is in the followingdescribed as noise e(n). The signal from satellite k after the A/D conversion can be described asSk (n) = (Ck (n)?Dk(n))cos(fIFn) + e(n) (6.3)with n in units of 1/fs s; n indicates that the signal is discrete in time. Sk(t) = (Ck(t)?Dk(t))cos(fL1t) +PPL1(Pk(t)?Dk(t))sin(fL1t) + PPL2(Pk(t) ?Dk(t))sin(fL2t) Incoming Signal Navigation Data N Dk(n) Carrier Wave PRN Code Replica Replica Ck (n) cos(fIFn)Figure 6.2 Block Diagram of Basic Demodulation Scheme.To obtain the navigation data Dk (n) from the above signal, the signal has to be converted down tobaseband. The carrier removal is done by multiplying the input signal with a replica of the carrier asshown in Figure 6.2. If the carrier replica is identical to the incoming carrier in both frequency and phase,the product of both isSk (n) cos(fIFn) = Ck(n)?Dk(n)cos(fIFn) cos(fIFn) = -1/2 Ck (n)?Dk(n) – 1/2 cos(fIFn) Ck (n)?Dk(n) (6.4)Where the first term is the navigation message multiplied with the PRN code and the second term is acarrier with the double intermediate frequency.The latter part of the signal can be removed by applying a lowpass filter. The signal after the lowpassfilter is1/2 Ck (n)?Dk(n) (6.5)
    44. The next step is to remove the code Ck (n) from the signal. This is done by correlating the signal with alocal code replica. If the code replica is exactly the same as the code in the signal, the output of thecorrelation is k (n)?Dk(n) = N Dk(n) (6.7)where N Dk(n) is the navigation message multiplied by the amount of points in the signal N.The above description of the demodulation is only for a signal with one satellite. This is done to reducethe complexity of the equations and to give a simpler idea of the demodulation scheme. In the real signalthere is a signal contribution from each visible satellite resulting in larger noise terms in the equations. Inthe demodulation scheme seen in Figure 6.2, two local signal replicas are required. To produce the exactreplica some kind of feedback is needed. The feedback loop to produce the carrier replica is referred to asthe carrier tracking loop, and the feedback loop to produce the exact code replica is referred to as the codetracking loop [17].6.3.2 Carrier Tracking:To demodulate the navigation data successfully an exact carrier wave replica has to be generated. Totrack a carrier wave signal, phase lock loops (PLL) or frequency lock loops (FLL) are often used. Ck (n) Sk(t) = (Ck(t)?Dk(t))cos(fL1t) + PRN CodePPL1(Pk(t)?Dk(t))sin(fL1t) + PPL2(Pk(t) ?Dk(t))sin(fL2t) Incoming Signal Carrier Loop Carrier Loop Filter Discriminator (function (low pass filter) of phase error) NCO Carrier Generator(frequency translator)Figure 6.3 Block Diagram of Basic GPS Receiver Tracking Loop.Figure 6.3 shows a basic block diagram for a phase lock loop. The two first multiplications wipe off thecarrier and the PRN code of the input signal. To wipe off the PRN code, the Ip output from the early–latecode tracking loop described above is used. The loop discriminator block is used to find the phase erroron the local carrier wave replica. The output of the discriminator, which is the phase error (or a functionof the phase error), is then filtered and used as a feedback to the numerically controlled oscillator (NCO),which adjusts the frequency of the local carrier wave. In this way the local carrier wave could be analmost precise replica of the input signal carrier wave.The problem with using an ordinary PLL is that it is sensitive to 180? phase shifts. Due to navigation bittransitions, a PLL used in a GPS receiver has to be insensitive to 180? phase shifts.Figure 6.4 shows a Costas loop. One property of this loop is that it is insensitive for 180? phase shifts andhereby a Costas loop is insensitive for phase transitions due to navigation bits. This is the reason for usingthis carrier tracking loop in GPS receivers. The Costas loop in figure 6.4 contains two multiplications.
    45. The first multiplication is the product between the input signal and the local carrier wave and the secondmultiplication is between a 90? phase-shifted carrier wave and the input signal. PRN Code I Low Pass Filter k (second order PLL) C (n) Sk(n) NCO Carrier Carrier Loop Filter(error Carrier Loop Generator(frequency Discriminator (function filtered out) Incoming translator) of phase error) Signal 90 Phase shifter Low Pass Filter(second order PLL) QFigure 6.4 Costas Loop used to Track the Carrier Wave.The goal of the Costas loop is to try to keep all energy in the I (in-phase) arm. To keep the energy in the Iarm, some kind of feedback to the oscillator is needed. If it is assumed that the code replica in figure 6.3is perfectly aligned, the multiplication in the I arm yields the following sum:Dk(n)cos(fIFn) cos(fIFn + ?) = ½ Dk(n)cos(?) + ½ Dk(n)cos(2f IFn + ?) (6.8)where ? is the phase difference between the phase of the input signal and the phase of the local replica ofthe carrier phase. The multiplication in the quadrature arm gives the following:Dk(n)cos(fIFn) sin(fIFn + ?) = ½ Dk(n)sin(?) + ½ Dk(n)sin(2fIFn + ?) (6.9)If the two signals are lowpass filtered after the multiplication, the two terms with the double intermediatefrequency are eliminated and the following two signals remain:Ik = ½ Dk(n)cos(?) (6.10)Qk = ½ Dk(n)sin(?) (6.11)To find a term to feed back to the carrier phase oscillator, it can be seen that the phase error of the localcarrier phase replica can be found asQk / Ik = (½ Dk(n)sin(?))/(½ Dk(n)cos(?)) = tan(?) (6.12)
    46. ? = tan-1(Qk / Ik ) (6.13)From equation (6.13), it can be seen that the phase error is minimized when the correlation in thequadrature-phase arm is zero and the correlation value in the inphase arm is maximum. The arc tandiscriminator in equation (6.13) is the most precise of the Costas discriminators, but it is also the mosttime-consuming.6.3.3 Code Tracking:The goal for a code tracking loop is to keep track of the code phase of a specific code in the signal. Theoutput of such a code tracking loop is a perfectly aligned replica of the code. The code tracking loop inthe GPS receiver is a delay lock loop (DLL) called an early–late tracking loop. The idea behind the DLLis to correlate the input signal with three replicas of the code seen in figure 6.5. Incoming E Integrate & Ie Signal I Dump Sk(n) P Integrate & Ip Dump L I late Integrate & Dump PRN Code Generator Local Oscialltor Ck (n) IF ± the frequency 1023 step (500 Hz)Figure 6.5 Block Diagram of Basic Code Tracking Loop.The first step in figure 6.5 is converting the C/A code to baseband, by multiplying the incoming signalwith a perfectly aligned local replica of the carrier wave. Afterwards the signal is multiplied with threecode replicas. The three replicas are nominally generated with a spacing of ±1/2 chip. After this secondmultiplication, the three outputs are integrated and dumped. The output of these integrations is anumerical value indicating how much the specific code replica correlates with the code in the incomingsignal.The DLL with three correlators as in figure 6.5 is optimal when the local carrier wave is locked in phaseand frequency. But when there is a phase error on the local carrier wave, the signal will be noisier,making it more difficult for the DLL to keep lock on the code. So instead the DLL in a GPS receiver isoften designed as in figure 6.6.
    47. E Ie Integrate & cos(fIFn) Dump I P Integrate & Ip Dump L Integrate & I late Dump IF ± the frequency Incoming step (500 Hz) Signal Local PRN Code Generator k Oscillator S (n) Ck (n) (± ½ chip delay) L Ql Integrate & Phase shifter Dump P Integrate & Dump Qp sin(fIFn) Q E Integrate & Dump QeFigure 6.6 Block Diagram of DLL with Six Correlators. Type Discriminator D Characteristics Coherent Ie – Il Simplest of all discriminators. Doesn‘t require the Q branch but require a good carrier tracking loop for optimal functionality. (Ie2 + Qe2 ) – (Il2 + Ql2 ) Early minus late power. This discriminator response is nearly the same as the coherent discriminator inside ±1/2 chip. Normalized early minus late power. The discriminator has aNon-Coherent {(Ie2 + Qe2 ) – (Il 2 + Ql 2 )} great property when the chip / { (Ie2 + Qe2 ) + (Il2 + Ql2 )} error is larger than a ½ chip, this will help the DLL to keep track in noisy signals. Ip(Ie – Il ) + Qp (Qe – Ql) Dot product. This is the only DLL discriminator that uses all six correlators outputs.
    48. Table 6.1 Various types of DLL Discriminators and a Description of them. Code Tracking Loop E Ie Integrate & Dump I P Ip Navigation Data Integrate & Dump L I late Integrate & Dump PRN Code Generator Code Loop Discriminator (function of code phase error) Ck (n) (± ½ chip delay) L Integrate & Dump Ql Incoming P Signal Integrate & Dump Qp Sk(n) Q E Integrate & Dump Qe To Carrier Tracking Loop To Code Tracking Loop Carrier Tracking Loop I Low Pass Filter (second order PLL) IF ± the frequency step (500 Hz) NCO Carrier Carrier Loop Carrier Loop Generator(frequency Filter(error filtered Discriminator (function of translation) out) phase error) 90 Phase shifter Low Pass Filter (second order PLL) QFigure 6.7 The Block Diagram of Complete Tracking Channel of the GPS Receiver.
    49. The design in figure 6.6 has the advantage that it is independent of the phase on the local carrier wave. Ifthe local carrier wave is in phase with the input signal, all the energy will be in the in-phase arm. But ifthe local carrier phase drifts compared to the input signal, the energy will switch between the in-phase andthe quadrature arm [18].If the code tracking loop performance has to be independent of the performance of the phase lock loop,the tracking loop has to use both the in-phase and quadrature arms to track the code. The DLL now needsa feedback to the PRN code generators if the code phase has to be adjusted. Some common DLLdiscriminators used for feedback are listed in Table 6.1. The table shows one coherent and three non-coherent discriminators. The requirement of a DLL discriminator is dependent on the type of applicationand the noise in the signal. In this dissertation, coherent discriminator is being employed.6.3.4 Complete Tracking Block:In the previous sections, the code tracking loop and the carrier tracking loop are described in detail. Thefollowing describes how the code tracking loop and the carrier tracking loop can be joined to minimizethe computational load. Figure 6.6 shows the code tracking loop and the carrier tracking loop combined.It can be seen from the figure that the PRN code replica used to wipe off the PRN code in the carriertracking loop is coming from the code tracking loop. It can also be seen that the two local carrier replicasused to wipe off the carrier wave in the code tracking loop are coming from the carrier tracking loop. Theblock diagram in figure 6.7 contains 11 multiplications. These multiplications are the most time-consuming operations on the block diagram [8].
    50. Chapter 7 SDR Technology and Complete Software GPS Receiver7.1 Software Defined Radio:A Software-Defined Radio (SDR) system is a radio communication system, in which all physical layersare software defined and a combination of hardware and software technologies that allowsreconfiguration of wireless network architectures. The Joint Tactical Radio System (JTRS) programsponsored by the U.S. Department of Defense to develop the next generation of military communicationdevices envisions the use of SDR technology with standardized hardware capable of handling multipleprotocols used by the military today.SDR is a design philosophy that has been in existence for a long time and is going through a rebirth as aresult of advanced semiconductor components now available, including high-performance digital signalprocessors and gate arrays, and high-speed data converters as well as advanced radio technologies.Although advances in DSP technologies have accelerated SDRs development, the main component thatenables SDR is in the analog domain of high-speed data converter technologies [19].Figure 7.1 SDR Functional Architecture.A software-defined radio receiver uses an analog-to-digital converter (ADC) to digitize the analog signalin the receiver as close to the antenna as practical, generally at an intermediate frequency (IF). Once
    51. digitized, the signals are filtered, demodulated, and separated into individual channels. Similarly, asoftware-defined radio transmitter performs coding, modulation, etc. in the digital domain In the finaloutput IF stage, a digital-to-analog converter (DAC) is used to convert the signal back to an analog formatfor transmission.7.2 Lyrtech‘s Small Form Factor- SDR Development platform:The SFF-SDR Platform is conceived and designed to be used to be used in the Development ofapplication in the field of Software-Defined Radios. The Platform is composed of three differentplatforms.1. Digital Processing Module.2. ADAC Master III.3. RF Module.Figure 7.2 SDR Development Platform.The SFF-SDR supports two Board Support Package. a. Model Based Development Kit (MBDK). b. Board Software development Kit (BSDK).The SFF SDR DP consists of three distinct hardware modules — the digital processing module, ADACMaster III, and RF module — which offer flexible development capabilities. The digital processingmodule uses a Virtex-4 FPGA and a DM6446 SoC (System on chip) to offer developers the necessaryperformance to implement custom IP and acceleration functions with varying requirements from oneprotocol to another supported on the same hardware. The ADAC Master III is equipped with dual-channelanalog-to-digital and digital-to-analog converters. The RF module covers a variety of frequency ranges intransmission and reception allowing it to support a wide range of applications.Fields of applications:
    52. Military : Military applications such as tactical military communications (MILCOM), militarycommunications gateways, handsets and man-pack systems, or vehicular systems are prime candidates forSDR developments.Public Safety: Publics safety applications such as TETRA and APCO band communications, vehicularsystems, transponders, and broadband data systems will be greatly enhanced by their use of the SFFSDR development board.Commercial. RFID readers, WiMAX and Wi-Fi customers –premises equipment (CPE), broadband datasystems, vehicular systems as well as femto and pico base stations are few applications that can benefitfrom the use of the SFF SDR development platforms [20].Figure 7.3 SDR Development Platform Block Diagram.
    53. Figure 7.4 Design flow for the lyrtech SFF-SDR development platform..
    54. 7.3 Parameter Settings for Various GPS Blocks:Figure 7.5 Setting IP configurations for computer.Figure 7.6 . ADC Parameters
    55. Figure 7.7 DAC ParametersFigure 7.8 Clock and PLL Parameters
    56. 7.4 Pseudolite GPS Software Receiver:Once the simulation meets the required performance goals, it becomes an executable specification. Beforeadding more detail to the model, it is prudent to verify that it truly implements a GPS receiver. TheMATLAB language is becoming increasingly popular in test and measurement applications. TheInstrument Control Toolbox option for MATLAB can communicate with virtually any instrument that hasa hardware interface. Beyond this, several test and measurement vendors have integrated MATLAB intotheir instruments. Anritsu is one such company; their Signature spectrum analyzer can capture data intoMATLAB with a single mouse click.An antenna and low-noise pre-amplifier were connected to the Signature analyzer, and tuned to 1.57542GHz. It has been recorded approximately one second of I/Q format data, which was then available in theMATLAB workspace. Since the satellite signals are more than 20 dB below the noise, it is notimmediately obvious that a useable data set has been captured. Thus a separate Simulink modelimplementing a simplified GPS receiver (no tracking loops) to confirm that satellite signals were presentin the data. The transmitter portion of the original model was then replaced with a Simulink library blockto provide actual satellite data for testing the receiver model [21].Next, the model is partitioned into a portion that will reside in the FPGA and a portion that will reside in afloating-point DSP. The incoming I/Q data at the 8 MSPS rate is first passed through a root-raised cosineFIR filter. Naturally, this higher speed processing is best suited for the FPGA. The filtered signal is thendown-sampled by a factor of two, and after the Doppler de-rotation, feeds three cross-correlators: early,prompt, and late, which refer to the local de-spreading code phase driving the respective correlators. Thenumerically controlled oscillators for both the Doppler and the local de-spreading code are also in theFPGA partition. Because the de-spreading sequence repeats every millisecond, the outputs of the threecorrelators are only of interest at this one-millisecond rate, which is easily handled by a DSP.Figure 7.9 FPGA partition of the GPS software receiver.
    57. After the receiver model is working using floating-point arithmetic, the next step is to define the fixed-point attributes that will be required for the FPGA partition. Simulink models can accommodate arbitraryprecision fixed-point representations of signals. The FPGA partition includes these fixed-pointconstraints. The partitioning reveals a feedback control system between the DSP and the FPGA. Inreview, the 8 MHz I/Q satellite signal input is processed by the FPGA producing low-rate (1 kHz)correlator outputs, which are then processed by the DSP. Using these signals, the DSP in turn implementsthe proportional-integral-derivative controllers for both the Doppler and timing recovery loops. The twocontroller outputs are fed back into the FPGA. The real captured satellite data is again used as a source totest the partitioning and the chosen fixed-point data constraints. Figure 7.9 shows the satellite data source(Blue) and the FPGA partition. Implement the FPGA Partition It is now relatively easy to transition thefixed-point receiver subsystem in Figure 7.9 to one using blocks from the Xilinx® System Generator forDSP library. The transition to the FPGA is easy if Simulink blocks that functionally match those in theSystem Generator library were used.Figure 7.9 shows the FPGA portion of the design. Hardware-specific gateway blocks pass signalsbetween the FPGA and the DSP. The output signals from the FPGA include three complex correlationsignals (early, prompt, and late), a signal-level estimate for AGC, and a synch word. These eight valuesare time-division multiplexed into a single data stream and fed through a 32-bit gateway block back to theDSP. Control signals for the timing and Doppler tracking loops come through 32-bit gateway blocks tothe FPGA, along with other ancillary control signals such as satellite selection. When running thehardware in real time, the signal input to this GPS receiver comes from an analog front-end downconverter with an IF of 17 MHz, not a spectrum analyzer. Therefore, a digital down converter (DDC) isalso needed in the FPGA. The DDS takes this 17 MHz real-band pass signal sampled at 64 MSPS andtranslates it to a base-band I/Q signal running at 8 MSPS. The high-level signal processing functions(DDS, CIC, FIR, FIFO, TDM) from the Xilinx System Generator library make it easy to implement thisportion of the design. Once the simulation is verified, a click of the mouse automatically generates thecirca 350 VHDL files (750 kB of ASCII) required to implement the design. After this point we are in thestandard Xilinx ISE™ design flow.Figure 7.10 DSP partition of the GPS software receiver.
    58. The top-level view of the DSP portion is shown in Figure 7.10. The time-division multiplexed signalsfrom the FPGA arrive through the gray gateway block on the left of the model. They are then de-multiplexed into the early/prompt/late correlation signals and level required by the timing recovery andDoppler controllers implemented in the DSP partition. The task of acquiring the GPS is implemented inthe DSP using Simulink‘s event-driven option, StateFlow. Operations such as square root and arc tangentare required. Although these operations are possible with a CORDIC in the FPGA, they are even easier todo in the floating-point DSP.Because the signals from the FPGA arrive every millisecond, the processing is light duty for the DSP.The whole setup of GPS software receiver has been done for single channel .A typical GPS receiverincorporates six to ten channels and the loading of the DSP will increase in proportion to the number ofchannels. The C code for the DSP is automatically generated using the Real-Time Workshop option in theSimulink environment. Once this is complete, a click of the mouse downloads both the bitstream for theFPGA and the binary for the DSP to the Lyrtech SignalWave hardware. When the real-time processing isstarted in the hardware, the Simulink block diagram then becomes a GUI that allows to seamlesslyinteracting with the processing. Scopes and numerical readouts are the primary real-time display options.One can also change the state of switches, the values of constants, and multiplier gains to interact with thedesign without stopping or introducing gaps in the real-time processing.7.5 Conclusion and Results of the GPS simulink Model:Direct Digital Synthesizer outputs of both DDSv2 and DDSv5 are balanced and an equal value for bothhas been achieved. Figure 7.11 Outputs waveforms of DDSv2 and DDSv5.
    59. ADC and DAC specifications of the SDR development platform:ADC 1. 14 bits 2. ADS 5500 3. Differential Input Voltage – 2.3Vp-p 4. Reference Top Voltage – 0.97 V 5. Analog Input Voltage – (-0.3V to 3.9V) 6. Digital Data Output – (-0.3 to 3.3)DAC 1. 16 bits 2. DAC 5687 3. Digital Input Channel A, DA – (-0.5V to 3.5V) 4. Digital Input Channel B, DB - (-0.5V to 3.5V) 5. Analog Output – (-1 to 4.5V) 6. Peak Input Current – 20mA.The major issues that yet to be dealt are, 1. Interfacing the 16 bits DAC to 14 bits ADC. 2. Interfacing circuits between FPGA and DSP (EMIF and VPSS). 3. Coefficients determination of DSP filters.
    60. References[1]. ?GPS and Galileo: Dual RF Front-end Receiver and Design, Fabrication and Test? byjaizkiMendizabal Samper, Roc Berenguer Perez, Juan Melendez Lagunilla, The McGraw-Hill companies,1996, pp.1.[2]. Langley, R. B., ?The Orbits of GPS Satellites?, GPS World, Vol.2, No.3, March 1991, pp.50-53.[3]. Wells, D. E., et al., ?Guide to GPS Positioning?, Fredericton,New Brunswick: Canadian GPSAssociates, 1987.[4]. Leick, A., ?GPS Satellite Surveying?, 2nd ed., New York: Wiley, 1995.[5].Langley, R. B., ?The Mathematics of GPS?, U.S. Institute of Navigation Newsletter, Vol.10, No.1,spring 2000, pp.3-4.[6]. Kaplan, E., ?Understanding GPS: Principles and Applications? ,Norwood,MA:Artech House,1990.[7].Kleusberg, A., ?Mathematics of Attitude Determination with GPS?, GPS World, Vol.6, No.9,September 1995, pp.72-78.[8]. Kai borre, ?A Software- Defined GPS and Galileo Receiver -A single frequency approach?Brikhauser Boston, 2007.[9]. Kalpan, Elliott D. & Hegarty, Christopher J., ?Understanding GPS, Principles and Applications?,Artech House, 2nd edition, Boston, MA, 2006.[10]. B. W. Parkinson and J. J. Spilker, Jr. (Eds.), Global Positioning System: Theory and Applications,Vol. 1, Progress in Astronautics and Aeronautics (series), American Institute of Aeronautics andAstronautics, Washington, DC, 1996.[11]. Institute of Navigation, Monographs of the Global Positioning System: Papers Published inNavigation (“Redbook”), Vol. V, ION, Alexandria, VA, 1998.[12]. B. W. Parkinson, M. L. O‘Connor and K. T. Fitzgibbon, ?Aircraft Automatic Approach and LandingUsing GPS,? Chapter 14 in ?Global Positioning System: Theory & Applications?, Vol. II, B. W.Parkinson and J. J. Spilker, Jr. (eds.), Progress in Astronautics and Aeronautics (series), Vol. 164, PaulZarchan editor-in-chief, American Institute of Aeronautics and Astronautics, Washington, DC, 1995, pp.397–425.[13]. ?GPS Pseudolite: Theory,Design and Application? dissertation by ?H. Stewart Cobb? September1997.[14]. T. Stansell, Jr., ?RTCM SC-104 Recommended Pseudolite Signal Specification?, in GlobalPositioning System, Vol. III, Institute of Navigation, 1986, pp. 117–134.[15]. Mohinder S Grewal, Lawrence R Weill, Angus P Andrews, ?Global Positioning Systems InertialNavigation, and Integration?, second edition, John Wiley & Sons Inc, 2007, pp. 126-128.
    61. [16]. Akos, Dennis, ?A Software Radio Approach to Global Navigation Satellite System ReceiverDesign?, Ohio University, Athens, OH 1997.[17]. Haykin, ?Communication Systems?, John Wiley & Sons, 4th edition, New York, NY, 2000.[18]. Best, Roland E, ?Phase-Locked Loops: Design, Simulation, and Applications?, McGraw-Hill, 5thedition, New York, NY 2003.[19]. Website Available at, ?http://www.sdrforum.org/pages/documentLibrary/documents/SDRF-01-P-0006-V2_0_0_BaseStation_Systems.pdf?.[20]. User‘s guide on Lyrtech‘s Small Form Factor SDR Evaluation Module/Development Platform,October 2008.[21]. Dick Benson, ?The Design and Implementation of a GPS Receiver Channel?, Xcell publications,2005. 